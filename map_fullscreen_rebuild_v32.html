<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_07240632b07852a755665ada692280cf {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_07240632b07852a755665ada692280cf" ></div>
        

<!-- === ONE-SHOT MOBILE PANEL + FULLSCREEN LIST (v21-rebuild) === -->
<style>
/* Toggle button */
#toggleOp {
  position: fixed !important;
  top: 12px !important; right: 12px !important;
  z-index: 1100 !important;
  width: 44px !important; height: 44px !important;
  border: none !important; border-radius: 50% !important;
  background: #2d6cdf !important; color: #fff !important;
  font-size: 20px !important; line-height: 44px !important; text-align: center !important;
  box-shadow: 0 4px 10px rgba(0,0,0,0.25) !important;
}
@media (min-width: 1024px){ #toggleOp{ width:auto !important; height:36px !important; border-radius:18px !important; padding:6px 12px !important; font-size:14px !important; line-height:24px !important; } #toggleOp::after{ content:' Операторы'; } }

/* Wrapper panel */
#opControlWrapper{
  position: fixed !important;
  top: 56px !important; right: 8px !important; left: auto !important; bottom: 8px !important;
  max-width: 96vw !important; width: auto !important;
  display: none; /* JS->flex */
  flex-direction: column; overflow: hidden;
  background: rgba(255,255,255,0.98) !important; color:#111 !important;
  border: 1px solid #ddd !important; border-radius: 12px !important;
  box-shadow: 0 8px 20px rgba(0,0,0,0.25) !important;
  padding: 10px 12px !important; z-index: 1000 !important;
}
#opControlWrapper, #opControlWrapper * { opacity: 1 !important; color:#111 !important; }

/* Extras bar */
#extrasBar{ display:flex; flex-wrap:wrap; gap:6px; align-items:center; margin:6px 0 2px 0; }
#opSearch{ flex:1 1 100%; min-width:0; padding:6px 8px; border:1px solid #bbb; border-radius:6px; font-size:14px; }
#quickBtns{ display:flex; gap:6px; flex:1 1 100%; }
#quickBtns button{ flex:1 1 auto; font-size:12px; padding:6px 10px; border:1px solid #bbb; border-radius:8px; background:#fff; }
#sizeSlider{ width:100%; }

/* Dedicated scroll container for overlays */
#opScroll{ flex:1 1 auto; overflow-y:auto; -webkit-overflow-scrolling:touch; touch-action:pan-y; padding-bottom:12px; }
#opScroll .leaflet-control-layers-overlays label{ display:block; padding:6px 0; }

/* Fullscreen sheet */
#opSheet{ position:fixed; inset:0; z-index:2000; display:none; background:#fff; color:#111; overflow:auto; -webkit-overflow-scrolling:touch; }
#opSheet .bar{ position:sticky; top:0; display:flex; gap:8px; align-items:center; justify-content:space-between; background:#fff; padding:10px 12px; border-bottom:1px solid #e6e6e6; }
#opSheet .title{ font-weight:600; }
#opSheet .bar button, #openFullList{ font-size:14px; padding:6px 10px; border:1px solid #bbb; border-radius:8px; background:#fff; }
#opSheetContent{ padding:8px 12px 16px 12px; }
@media (min-width:1024px){ #openFullList{ display:none; } }
</style>

<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    // detect map
    var Lmap = null; for (var k in window){ try{ if (k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap = window[k]; break; } }catch(e){} }
    var lc = document.querySelector('.leaflet-control-layers'); if(!Lmap || !lc) return;

    // Create toggle if not exists
    if(!document.getElementById('toggleOp')){
      var b=document.createElement('button'); b.id='toggleOp'; b.textContent='≡'; document.body.appendChild(b);
    }
    if(!document.getElementById('opControlWrapper')){
      var w=document.createElement('div'); w.id='opControlWrapper'; document.body.appendChild(w);
    }
    var btn = document.getElementById('toggleOp');
    var wrap= document.getElementById('opControlWrapper');

    // Move Leaflet control inside wrapper
    if (lc.parentNode !== wrap){ wrap.appendChild(lc); }

    // Build extras bar and scroll container
    var list = lc.querySelector('.leaflet-control-layers-list');
    if(!list){ list=document.createElement('div'); list.className='leaflet-control-layers-list'; lc.appendChild(list); }
    var overlays = lc.querySelector('.leaflet-control-layers-overlays');
    if (!overlays){ overlays = document.createElement('div'); overlays.className='leaflet-control-layers-overlays'; list.appendChild(overlays); }

    var extras = document.createElement('div'); extras.id='extrasBar';
    extras.innerHTML = '<input id="opSearch" type="search" placeholder="Поиск по операторам...">'+
      '<div id="quickBtns"><button id="resetView">Сброс</button><button id="locateMe">Моё местоположение</button></div>'+
      '<div class="mini">Размер точек: <input id="sizeSlider" type="range" min="2" max="24" value="8" step="1"></div>'+
      '<label class="mini"><input id="soloMode" type="checkbox"> Соло-режим</label>'+
      '<label class="mini"><input id="viewportOnly" type="checkbox"> Только в кадре</label>'+
      '<button id="openFullList">Открыть список на весь экран</button>';
    list.parentNode.insertBefore(extras, list);

    // Dedicated scroll block
    var sc = document.createElement('div'); sc.id='opScroll';
    list.insertBefore(sc, overlays); sc.appendChild(overlays);

    // Toggle behavior
    function show(){ wrap.style.setProperty('display','flex','important'); resize(); }
    function hide(){ wrap.style.setProperty('display','none','important'); }
    function vis(){ return window.getComputedStyle(wrap).display !== 'none'; }
    if ((window.innerWidth <= 820) || (window.innerHeight <= 600)) hide(); else show();
    var nb = btn.cloneNode(true); btn.parentNode.replaceChild(nb, btn);
    nb.addEventListener('click', function(e){ e.preventDefault(); e.stopPropagation(); vis()?hide():show(); });
    document.addEventListener('click', function(e){ if(!vis()) return; if (wrap.contains(e.target)||nb.contains(e.target)) return; hide(); });

    // Search filters labels containing «Оператор»
    var search = document.getElementById('opSearch');
    function filterList(){
      var q=(search.value||'').toLowerCase();
      sc.querySelectorAll('label').forEach(function(l){ var t=(l.textContent||'').toLowerCase(); if (t.indexOf('оператор')!==-1){ l.style.display = q? (t.indexOf(q)!==-1?'':'none') : ''; } });
    }
    search.addEventListener('input', filterList);

    // Select all / deselect all rewire (operate only overlays)
    function opBoxes(){ return sc.querySelectorAll('input[type="checkbox"].leaflet-control-layers-selector, .leaflet-control-layers-overlays input[type="checkbox"]'); }
    function setAll(ch){ opBoxes().forEach(function(cb){ try{ if(cb.checked!==ch){ cb.click(); } }catch(e){} }); }
    ['Выделить всех','Снять всех'].forEach(function(text, idx){
      var nodes = wrap.querySelectorAll('button');
      nodes.forEach(function(b){
        if ((b.textContent||'').trim()===text){
          var c=b.cloneNode(true); b.parentNode.replaceChild(c,b); c.addEventListener('click', function(e){ e.preventDefault(); setAll(idx===0); });
        }
      });
    });

    // Solo mode
    var solo=document.getElementById('soloMode');
    sc.addEventListener('change', function(e){ if(!solo.checked) return; var t=e.target; if(t && t.type==='checkbox' && t.checked){ opBoxes().forEach(function(cb){ if (cb!==t && cb.checked){ cb.click(); } }); } });

    // Viewport only
    var vOnly=document.getElementById('viewportOnly');
    function eachLayerDeep(ly, fn){ try{ if (ly && typeof ly.eachLayer==='function'){ ly.eachLayer(function(ch){ eachLayerDeep(ch, fn); }); } else { fn(ly); } }catch(e){} }
    function setVis(ly, v){ try{ if (ly.setStyle){ ly.setStyle({opacity:v?1:0, fillOpacity:v?0.8:0}); } if (ly.setOpacity){ ly.setOpacity(v?1:0); } }catch(e){} }
    function refreshView(){
      if (!vOnly.checked){ Lmap.eachLayer(function(ly){ eachLayerDeep(ly, function(x){ setVis(x, true); }); }); return; }
      var b=Lmap.getBounds();
      Lmap.eachLayer(function(ly){ eachLayerDeep(ly, function(x){ try{ if (x && x.getLatLng){ setVis(x, b.contains(x.getLatLng())); } }catch(e){} }); });
    }
    vOnly.addEventListener('change', refreshView); Lmap.on('moveend zoomend layeradd layerremove', refreshView);

    // Size slider
    var sld=document.getElementById('sizeSlider');
    function setRadiusAll(r){
      Lmap.eachLayer(function(ly){ eachLayerDeep(ly, function(x){ try{ if (x && x.setRadius && x.getLatLng){ x.setRadius(r); } }catch(e){} }); });
    }
    setRadiusAll(parseInt(sld.value,10)||8); sld.addEventListener('input', function(){ setRadiusAll(parseInt(sld.value,10)||8); });

    // Reset / locate
    var startCenter=Lmap.getCenter(), startZoom=Lmap.getZoom();
    document.getElementById('resetView').addEventListener('click', function(e){ e.preventDefault(); Lmap.setView(startCenter,startZoom); });
    document.getElementById('locateMe').addEventListener('click', function(e){ e.preventDefault(); if(!navigator.geolocation) return alert('Геолокация недоступна'); navigator.geolocation.getCurrentPosition(function(p){ var lat=p.coords.latitude, lon=p.coords.longitude; Lmap.flyTo([lat,lon], 13); L.circleMarker([lat,lon], {radius:8, color:'#1976d2', fillColor:'#1976d2', fillOpacity:0.8}).addTo(Lmap).bindPopup('Вы здесь'); }, function(){ alert('Не удалось получить геолокацию'); }); });

    // Fullscreen sheet with native scroll
    var openFS = document.getElementById('openFullList');
    var sheet = document.createElement('div'); sheet.id='opSheet'; sheet.innerHTML='<div class="bar"><div class="title">Операторы</div><div><button id="sheetClose">Закрыть</button></div></div><div id="opSheetContent"></div>';
    document.body.appendChild(sheet);
    var cont = sheet.querySelector('#opSheetContent');
    var closeBtn = sheet.querySelector('#sheetClose');
    var homeParent = overlays.parentNode, homeNext = overlays.nextSibling;
    openFS.addEventListener('click', function(e){ e.preventDefault(); cont.appendChild(overlays); sheet.style.display='block'; document.body.style.overflow='hidden'; });
    closeBtn.addEventListener('click', function(e){ e.preventDefault(); if (homeNext) homeParent.insertBefore(overlays, homeNext); else homeParent.appendChild(overlays); sheet.style.display='none'; document.body.style.overflow=''; });

    // Resize helper for panel scroll height
    function resize(){
      var top = sc.getBoundingClientRect().top; var avail = window.innerHeight - top - 8; sc.style.height = Math.max(180, avail)+'px'; sc.style.maxHeight = Math.max(180, avail)+'px';
    }
    window.addEventListener('resize', resize); window.addEventListener('orientationchange', resize); setTimeout(resize,50); setTimeout(resize,250); setTimeout(resize,800);
  });
})();
</script>


<!-- === CLEAN BASE-LAYERS v22: hide/remove 'openstreetmap' radio === -->
<style>
/* Скрываем блок базовых слоёв и любые радиокнопки в панели */
#opControlWrapper .leaflet-control-layers-base { display: none !important; }
#opControlWrapper input[type="radio"].leaflet-control-layers-selector { display: none !important; }
</style>
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    // Удаляем базовые слои целиком
    document.querySelectorAll('.leaflet-control-layers-base').forEach(function(n){
      try{ n.remove(); }catch(e){}
    });
    // На всякий случай удаляем отдельные подписи, где встречается "openstreetmap"
    document.querySelectorAll('.leaflet-control-layers label, .leaflet-control-layers span').forEach(function(el){
      var t = (el.textContent||'').toLowerCase();
      if (t.indexOf('openstreetmap') !== -1) {
        try{ el.remove(); }catch(e){}
      }
    });
  });
})();
</script>


<!-- === BULK SELECT v23: add "Выделить всех / Снять всех" in panel and fullscreen sheet === -->
<style>
#bulkBtns, #bulkBtnsSheet { display:flex; gap:8px; align-items:center; margin:6px 0; }
#bulkBtns button, #bulkBtnsSheet button {
  font-size: 12px; padding: 6px 10px;
  border: 1px solid #bbb; border-radius: 8px; background: #fff; cursor: pointer;
}
</style>
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    function setAllOperators(checked){
      var overlays = document.querySelector('.leaflet-control-layers-overlays');
      if (!overlays) return;
      var boxes = overlays.querySelectorAll('input[type="checkbox"]');
      boxes.forEach(function(inp){
        try{
          if (inp.checked !== checked){
            inp.click(); // правильный способ триггернуть Leaflet
          }
        }catch(e){}
      });
    }

    // ----- Панель (compact) -----
    var search = document.getElementById('opSearch');
    if (search && !document.getElementById('bulkBtns')){
      var bulk = document.createElement('div');
      bulk.id = 'bulkBtns';
      bulk.innerHTML = '<button id="bulkAll">Выделить всех</button><button id="bulkNone">Снять всех</button>';
      search.parentNode.insertBefore(bulk, search.nextSibling);
      bulk.querySelector('#bulkAll').addEventListener('click', function(e){ e.preventDefault(); setAllOperators(true); });
      bulk.querySelector('#bulkNone').addEventListener('click', function(e){ e.preventDefault(); setAllOperators(false); });
    }

    // ----- Полноэкранный лист -----
    function mountSheetButtons(){
      var sheet = document.getElementById('opSheet');
      if (!sheet) return false;
      if (document.getElementById('bulkBtnsSheet')) return true;

      var bar = sheet.querySelector('.bar');
      var where = bar || sheet;
      var holder = document.createElement('div');
      holder.id = 'bulkBtnsSheet';
      holder.innerHTML = '<button id="sheetAll">Выделить всех</button><button id="sheetNone">Снять всех</button>';
      if (bar && bar.parentNode){
        bar.parentNode.insertBefore(holder, bar.nextSibling);
      } else {
        sheet.insertBefore(holder, sheet.firstChild);
      }
      holder.querySelector('#sheetAll').addEventListener('click', function(e){ e.preventDefault(); setAllOperators(true); });
      holder.querySelector('#sheetNone').addEventListener('click', function(e){ e.preventDefault(); setAllOperators(false); });
      return true;
    }
    // Попытка сразу и чуть позже (на случай, если лист создаётся предыдущим скриптом с задержкой)
    mountSheetButtons();
    setTimeout(mountSheetButtons, 200);
    setTimeout(mountSheetButtons, 800);
  });
})();
</script>


<!-- === INLINE EDITING v24: выбор маркеров и переназначение операторов + экспорт CSV === -->
<style>
#editBar{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin:6px 0; }
#editBar .mini{ display:inline-flex; align-items:center; gap:6px; }
#editBar select, #editBar button{ font-size:12px; padding:6px 10px; border:1px solid #bbb; border-radius:8px; background:#fff; }
#editBar .count{ font-weight:600; }
.marker-selected-glow{
  filter: drop-shadow(0 0 4px rgba(0,0,0,0.6));
}
</style>

<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    // 0) Access map and the Leaflet layer control
    var Lmap = null;
    for (var k in window){ try{ if (k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap = window[k]; break; } }catch(e){} }
    if (!Lmap) return;

    var layerControl = null;
    for (var k in window){
      try{
        var v = window[k];
        if (v && v._layers && typeof v.addTo === 'function' && v._map === Lmap){
          // looks like a L.Control.Layers
          layerControl = v; break;
        }
      }catch(e){}
    }

    // 1) Build operator dictionary from control overlays
    var operatorLayers = [];
    if (layerControl && layerControl._layers){
      var arr = Object.values(layerControl._layers);
      arr.forEach(function(rec){
        if (rec && rec.overlay && rec.layer && typeof rec.layer.eachLayer === 'function'){
          var name = (rec.name || '').toString();
          if (/оператор/i.test(name) || /без оператора/i.test(name)){
            operatorLayers.push({name: name, layer: rec.layer});
          }
        }
      });
    } else {
      // fallback: discover groups on map
      Lmap.eachLayer(function(ly){
        try{
          if (ly && typeof ly.eachLayer==='function'){
            var cnt=0; ly.eachLayer(function(ch){ if (ch && ch.getLatLng) cnt++; });
            if (cnt>0){
              operatorLayers.push({name:'Группа', layer: ly});
            }
          }
        }catch(e){}
      });
    }

    // 2) UI: edit bar
    var extras = document.getElementById('extrasBar');
    if (!extras) return;
    var edit = document.createElement('div');
    edit.id = 'editBar';
    edit.innerHTML = ''
      + '<label class="mini"><input id="editMode" type="checkbox"/> Режим редактирования</label>'
      + '<span class="mini">Выбрано: <span id="selCount" class="count">0</span></span>'
      + '<span class="mini">Новый оператор:</span>'
      + '<select id="targetOperator"></select>'
      + '<button id="assignOp">Назначить</button>'
      + '<button id="clearOp">Без оператора</button>'
      + '<button id="unselectAll">Снять выделение</button>'
      + '<button id="exportChanges">Экспорт изменений</button>';
    extras.parentNode.insertBefore(edit, extras.nextSibling);

    var selCount = document.getElementById('selCount');
    var targetSel = document.getElementById('targetOperator');

    // fill operator list
    operatorLayers.forEach(function(o){
      var opt = document.createElement('option');
      opt.value = o.name; opt.textContent = o.name;
      targetSel.appendChild(opt);
    });

    // 3) Marker selection machinery
    var selected = new Set();
    function isMarker(x){ return x && typeof x.getLatLng === 'function' && (typeof x.setStyle === 'function' || typeof x.setRadius === 'function'); }

    function forEachMarker(fn){
      operatorLayers.forEach(function(ol){
        try{
          ol.layer.eachLayer(function(m){
            try{ if (isMarker(m)) fn(m, ol); }catch(e){}
          });
        }catch(e){}
      });
    }

    function markerKey(m){
      return m && m._leaflet_id ? m._leaflet_id : (Math.random()+':'+Date.now());
    }

    function markSelected(m, on){
      try{
        // visual highlight: increase radius slightly and add glow filter
        if (typeof m.setRadius === 'function'){
          if (on){
            if (typeof m.__origRadius === 'undefined') m.__origRadius = m.options.radius || 8;
            m.setRadius(m.__origRadius + 3);
          } else {
            if (typeof m.__origRadius !== 'undefined') m.setRadius(m.__origRadius);
          }
        }
        var el = m._path || (m._icon);
        if (el){
          if (on) el.classList.add('marker-selected-glow');
          else el.classList.remove('marker-selected-glow');
        }
      }catch(e){}
    }

    function updateSelCount(){ selCount.textContent = selected.size; }

    var editMode = document.getElementById('editMode');
    function attachClicks(){
      forEachMarker(function(m){
        if (m.__editBound) return;
        m.on('click', function(ev){
          if (!editMode.checked) return;
          var key = markerKey(m);
          if (selected.has(key)){ selected.delete(key); markSelected(m,false); }
          else { selected.add(key); markSelected(m,true); }
          updateSelCount();
          if (ev) ev.originalEvent && ev.originalEvent.stopPropagation && ev.originalEvent.stopPropagation();
        });
        m.__editBound = true;
      });
    }
    attachClicks();
    // re-attach when layers change visibility
    Lmap.on('layeradd', attachClicks);

    // 4) Find current operator layer for a marker
    function findCurrentGroup(m){
      for (var i=0;i<operatorLayers.length;i++){
        var g = operatorLayers[i];
        try{ if (g.layer && g.layer.hasLayer && g.layer.hasLayer(m)) return g; }catch(e){}
      }
      return null;
    }

    // 5) Apply reassignment
    var changes = []; // {name, lat, lon, from, to, ts}
    function popupText(m){
      try{
        var p = m.getPopup && m.getPopup(); var c = p ? p.getContent() : '';
        if (!c) return '';
        if (typeof c === 'string') return c.replace(/<[^>]+>/g,' ').trim();
        if (c && c.innerText) return c.innerText.trim();
      }catch(e){}
      return '';
    }

    function reassignSelected(toName){
      var toGroup = operatorLayers.find(function(o){ return o.name === toName; });
      if (!toGroup){ alert('Не найден слой оператора: '+toName); return; }
      var moved = 0;
      forEachMarker(function(m){
        var key = markerKey(m);
        if (!selected.has(key)) return;
        var fromG = findCurrentGroup(m);
        if (fromG && fromG.layer && toGroup.layer && fromG.layer !== toGroup.layer){
          try{
            fromG.layer.removeLayer(m);
            toGroup.layer.addLayer(m);
            // record change
            var ll = m.getLatLng();
            changes.push({
              name: popupText(m),
              lat: ll.lat, lon: ll.lng,
              from: fromG.name, to: toGroup.name,
              ts: new Date().toISOString()
            });
            moved++;
            markSelected(m,false);
          }catch(e){}
        }
        selected.delete(key);
      });
      updateSelCount();
      if (moved===0){ alert('Нет выбранных точек для переназначения.'); }
    }

    // 6) Clear operator (move to "Без оператора" если есть)
    function clearSelected(){
      var toGroup = null;
      for (var i=0;i<operatorLayers.length;i++){
        if (/без оператора/i.test(operatorLayers[i].name)){ toGroup = operatorLayers[i]; break; }
      }
      if (!toGroup){ alert('Нет слоя "Без оператора".'); return; }
      reassignSelected(toGroup.name);
    }

    // 7) Export changes to CSV
    function exportCSV(){
      if (!changes.length){ alert('Изменений пока нет.'); return; }
      var header = 'location,lat,lon,from_operator,to_operator,timestamp';
      var rows = changes.map(function(r){
        function esc(s){ return ('"'+String(s).replace(/"/g,'""')+'"'); }
        return [esc(r.name), r.lat, r.lon, esc(r.from), esc(r.to), esc(r.ts)].join(',');
      });
      var csv = header+'\n'+rows.join('\n');
      var blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      var url = URL.createObjectURL(blob);
      var a = document.createElement('a');
      a.href=url; a.download='operator_reassignments.csv'; document.body.appendChild(a); a.click();
      setTimeout(function(){ URL.revokeObjectURL(url); a.remove(); }, 500);
    }

    document.getElementById('assignOp').addEventListener('click', function(e){ e.preventDefault(); reassignSelected(targetSel.value); });
    document.getElementById('clearOp').addEventListener('click', function(e){ e.preventDefault(); clearSelected(); });
    document.getElementById('unselectAll').addEventListener('click', function(e){ e.preventDefault(); selected.forEach(function(k){ selected.delete(k); }); updateSelCount(); forEachMarker(function(m){ markSelected(m,false); }); });
    document.getElementById('exportChanges').addEventListener('click', function(e){ e.preventDefault(); exportCSV(); });
  });
})();
</script>


<!-- === MOVE MARKERS v25: интерактивное перемещение точек + экспорт перемещений === -->
<style>
#moveBar{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin:6px 0; }
#moveBar .mini{ display:inline-flex; align-items:center; gap:6px; }
#moveBar button, #moveBar select{
  font-size:12px; padding:6px 10px; border:1px solid #bbb; border-radius:8px; background:#fff; cursor:pointer;
}
#moveHint{ font-size:12px; opacity:0.85; }
</style>

<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    // Найдём карту
    var Lmap=null; for (var k in window){ try{ if(k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap=window[k]; break; } }catch(e){} }
    if(!Lmap) return;

    // Соберём группы операторов
    function getOperatorLayers(){
      var layers=[];
      Lmap.eachLayer(function(ly){
        try{
          if (ly && typeof ly.eachLayer==='function'){
            var cnt=0; ly.eachLayer(function(ch){ try{ if(ch && ch.getLatLng) cnt++; }catch(e){} });
            if (cnt>0) layers.push(ly);
          }
        }catch(e){}
      });
      return layers;
    }
    function isMarker(x){ return x && typeof x.getLatLng==='function' && (x.setLatLng || x.setRadius); }

    // UI полоса
    var editBar = document.getElementById('editBar') || document.getElementById('extrasBar');
    if (!editBar) return;
    var moveBar = document.createElement('div');
    moveBar.id = 'moveBar';
    moveBar.innerHTML = ''
      + '<label class="mini"><input id="moveMode" type="checkbox"> Перемещение точек</label>'
      + '<span id="moveHint">Нажми на точку → затем ткни по карте куда перенести.</span>'
      + '<button id="undoMove">Отменить последнее</button>'
      + '<button id="exportMoves">Экспорт перемещений</button>';
    editBar.parentNode.insertBefore(moveBar, editBar.nextSibling);

    var moveMode = document.getElementById('moveMode');
    var moveHint = document.getElementById('moveHint');
    var undoBtn  = document.getElementById('undoMove');
    var expBtn   = document.getElementById('exportMoves');

    var moving = null; // текущий выбранный для перемещения маркер
    var lastMove = null;
    var moves = []; // {location, from_lat, from_lon, to_lat, to_lon, operator, timestamp}

    function markerLabel(m){
      try{
        var p=m.getPopup&&m.getPopup(); var c=p?p.getContent():'';
        if(typeof c==='string') return c.replace(/<[^>]+>/g,' ').trim();
        if(c && c.innerText) return c.innerText.trim();
      }catch(e){}
      return '';
    }
    function markerOperator(m){
      var groups=getOperatorLayers();
      for (var i=0;i<groups.length;i++){ try{ if(groups[i].hasLayer && groups[i].hasLayer(m)) return 'Оператор'; }catch(e){} }
      return '';
    }

    function startMoveFor(m){
      moving = m;
      // Микроподсветка
      try{
        if (m.setRadius){ if (typeof m.__origRadius==='undefined') m.__origRadius=m.options.radius||8; m.setRadius(m.__origRadius+3); }
        var el=m._path||m._icon; if(el) el.style.outline='2px dashed #1976d2';
      }catch(e){}
      moveHint.textContent='Выбрана точка. Ткни по карте, куда перенести…';
    }
    function endMoveVisual(m){
      try{
        if (m.setRadius && typeof m.__origRadius!=='undefined') m.setRadius(m.__origRadius);
        var el=m._path||m._icon; if(el) el.style.outline='';
      }catch(e){}
      moveHint.textContent='Нажми на точку → затем ткни по карте куда перенести.';
    }

    // Клик по маркеру в режиме перемещения
    function attachMarkerClicks(){
      var groups=getOperatorLayers();
      groups.forEach(function(g){
        try{
          g.eachLayer(function(m){
            if (!isMarker(m) || m.__moveBound) return;
            m.on('click', function(ev){
              if (!moveMode.checked) return;
              ev.originalEvent && ev.originalEvent.stopPropagation && ev.originalEvent.stopPropagation();
              startMoveFor(m);
            });
            m.__moveBound = true;
          });
        }catch(e){}
      });
    }
    attachMarkerClicks();
    Lmap.on('layeradd', attachMarkerClicks);

    // Клик по карте — завершает перенос
    function onMapClick(e){
      if (!moving) return;
      var from = moving.getLatLng();
      moving.setLatLng(e.latlng);
      var to = e.latlng;
      var rec = {
        location: markerLabel(moving),
        operator: markerOperator(moving),
        from_lat: from.lat, from_lon: from.lng,
        to_lat: to.lat,     to_lon: to.lng,
        timestamp: new Date().toISOString()
      };
      moves.push(rec);
      lastMove = {marker:moving, from:from};
      endMoveVisual(moving);
      moving = null;
    }

    moveMode.addEventListener('change', function(){
      if (moveMode.checked){
        moveHint.style.opacity = '1';
        Lmap.on('click', onMapClick);
      } else {
        moveHint.style.opacity = '0.7';
        Lmap.off('click', onMapClick);
        if (moving){ endMoveVisual(moving); moving=null; }
      }
    });

    // Отмена
    undoBtn.addEventListener('click', function(e){
      e.preventDefault();
      if (!lastMove){ alert('Нет перемещений для отмены.'); return; }
      try{
        lastMove.marker.setLatLng(lastMove.from);
        lastMove = null;
      }catch(err){}
    });

    // Экспорт перемещений
    expBtn.addEventListener('click', function(e){
      e.preventDefault();
      if (!moves.length){ alert('Перемещений пока нет.'); return; }
      var header = 'location,operator,from_lat,from_lon,to_lat,to_lon,timestamp';
      var rows = moves.map(function(r){
        function esc(s){ return ('"'+String(s||'').replace(/"/g,'""')+'"'); }
        return [esc(r.location), esc(r.operator), r.from_lat, r.from_lon, r.to_lat, r.to_lon, esc(r.timestamp)].join(',');
      });
      var csv = header + '\n' + rows.join('\n');
      var blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      var url = URL.createObjectURL(blob);
      var a = document.createElement('a'); a.href=url; a.download='point_moves.csv'; document.body.appendChild(a); a.click();
      setTimeout(function(){ URL.revokeObjectURL(url); a.remove(); }, 500);
    });
  });
})();
</script>


<!-- === COMBINED EXPORT & AUDIT v26: отслеживание переносов и переназначений + единый CSV === -->
<style>
#allExportBar{ display:flex; gap:8px; align-items:center; margin:6px 0; }
#allExportBar button{ font-size:12px; padding:6px 10px; border:1px solid #bbb; border-radius:8px; background:#fff; cursor:pointer; }
</style>
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    // Глобальный аудит
    window.__audit__ = window.__audit__ || { moves: [], reassigns: [] };

    // Найти карту
    var Lmap = null;
    for (var k in window){
      try{ if (k.startsWith('map_') && window[k] && typeof window[k].eachLayer === 'function'){ Lmap = window[k]; break; } }catch(e){}
    }
    if (!Lmap || !window.L) return;
    var L = window.L;

    // Построим словарь имен операторских групп из LayerControl (если есть)
    var groupNameById = {};
    var layerControl = null;
    for (var k in window){
      try{
        var v = window[k];
        if (v && v._layers && typeof v.addTo === 'function' && v._map === Lmap){
          layerControl = v; break;
        }
      }catch(e){}
    }
    if (layerControl && layerControl._layers){
      Object.values(layerControl._layers).forEach(function(rec){
        try{
          if (rec && rec.overlay && rec.layer && typeof rec.layer.eachLayer === 'function'){
            var name = (rec.name || '').toString();
            if (/оператор/i.test(name) || /без оператора/i.test(name)){
              if (rec.layer._leaflet_id) groupNameById[rec.layer._leaflet_id] = name;
            }
          }
        }catch(e){}
      });
    }

    // Вспомогалки
    function isMarker(x){ return x && typeof x.getLatLng === 'function'; }
    function nameForGroup(g){ return g && g._leaflet_id && groupNameById[g._leaflet_id] ? groupNameById[g._leaflet_id] : 'Группа'; }
    function markerLabel(m){
      try{
        var p = m.getPopup && m.getPopup();
        var c = p ? p.getContent() : '';
        if (typeof c === 'string') return c.replace(/<[^>]+>/g, ' ').trim();
        if (c && c.innerText) return c.innerText.trim();
      }catch(e){}
      return '';
    }

    // Отслеживание текущей группы маркера
    var markerGroupId = {};          // marker_id -> group_id
    var lastRemovedGroupId = {};     // marker_id -> group_id (для пары remove -> add)

    // Обёртки над addLayer/removeLayer для фиксации переносов между группами
    var origAdd = L.LayerGroup.prototype.addLayer;
    var origRem = L.LayerGroup.prototype.removeLayer;

    L.LayerGroup.prototype.removeLayer = function(layer){
      try{
        if (isMarker(layer) && this._leaflet_id && groupNameById[this._leaflet_id]){
          lastRemovedGroupId[layer._leaflet_id] = this._leaflet_id;
        }
      }catch(e){}
      return origRem.call(this, layer);
    };

    L.LayerGroup.prototype.addLayer = function(layer){
      var res = origAdd.call(this, layer);
      try{
        if (isMarker(layer) && this._leaflet_id && groupNameById[this._leaflet_id]){
          var mid = layer._leaflet_id;
          var fromId = lastRemovedGroupId[mid] || markerGroupId[mid];
          var toId   = this._leaflet_id;
          if (fromId && fromId !== toId){
            var ll = layer.getLatLng();
            window.__audit__.reassigns.push({
              type: 'reassign',
              location: markerLabel(layer),
              from_operator: nameForGroup({_leaflet_id: fromId}),
              to_operator:   nameForGroup({_leaflet_id: toId}),
              lat_from: ll.lat, lon_from: ll.lng,
              lat_to:   ll.lat, lon_to:  ll.lng,
              timestamp: new Date().toISOString()
            });
          }
          markerGroupId[mid] = toId;
          delete lastRemovedGroupId[mid];
        }
      }catch(e){}
      return res;
    };

    // Обёртка над setLatLng для фиксации перемещений
    function wrapSetLatLng(proto){
      if (!proto || !proto.setLatLng || proto.__wrappedSetLatLng) return;
      var original = proto.setLatLng;
      proto.setLatLng = function(latlng){
        try{
          var prev = this.__lastLatLng;
          var next = latlng && (latlng.lat !== undefined ? latlng : L.latLng(latlng));
          if (prev && next && (prev.lat !== next.lat || prev.lng !== next.lng)){
            var gid = markerGroupId[this._leaflet_id];
            window.__audit__.moves.push({
              type: 'move',
              location: markerLabel(this),
              operator: nameForGroup({_leaflet_id: gid}),
              lat_from: prev.lat, lon_from: prev.lng,
              lat_to:   next.lat, lon_to:  next.lng,
              timestamp: new Date().toISOString()
            });
          }
          var res = original.call(this, latlng);
          this.__lastLatLng = this.getLatLng();
          return res;
        }catch(e){
          return original.call(this, latlng);
        }
      };
      proto.__wrappedSetLatLng = true;
    }
    wrapSetLatLng(L.CircleMarker && L.CircleMarker.prototype);
    wrapSetLatLng(L.Marker && L.Marker.prototype);

    // Инициализация __lastLatLng и принадлежности групп для уже существующих
    setTimeout(function(){
      Lmap.eachLayer(function(ly){
        try{
          if (isMarker(ly)){ ly.__lastLatLng = ly.getLatLng(); }
          else if (ly && typeof ly.eachLayer === 'function' && groupNameById[ly._leaflet_id]){
            ly.eachLayer(function(m){ try{ if (isMarker(m)) markerGroupId[m._leaflet_id] = ly._leaflet_id; }catch(e){} });
          }
        }catch(e){}
      });
    }, 100);

    // Кнопка комбинированного экспорта
    var anchorNode = document.getElementById('editBar') || document.getElementById('extrasBar') || document.body;
    if (anchorNode && !document.getElementById('allExportBar')){
      var bar = document.createElement('div');
      bar.id = 'allExportBar';
      bar.innerHTML = '<button id=\"exportAll\">Экспорт всех изменений (CSV)</button>';
      anchorNode.parentNode.insertBefore(bar, anchorNode.nextSibling);
      document.getElementById('exportAll').addEventListener('click', function(e){
        e.preventDefault();
        var rows = [];
        var head = ['type','location','from_operator','to_operator','operator','lat_from','lon_from','lat_to','lon_to','timestamp'];
        function esc(s){ return '\"' + String(s||'').replace(/\"/g,'\"\"') + '\"'; }
        (window.__audit__.reassigns || []).forEach(function(r){
          rows.push([ 'reassign', esc(r.location), esc(r.from_operator), esc(r.to_operator), '', r.lat_from, r.lon_from, r.lat_to, r.lon_to, esc(r.timestamp) ].join(','));
        });
        (window.__audit__.moves || []).forEach(function(r){
          rows.push([ 'move', esc(r.location), '', '', esc(r.operator), r.lat_from, r.lon_from, r.lat_to, r.lon_to, esc(r.timestamp) ].join(','));
        });
        if (!rows.length){ alert('Изменений пока нет.'); return; }
        var csv = head.join(',') + '\\n' + rows.join('\\n');
        var blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a'); a.href=url; a.download='all_changes.csv'; document.body.appendChild(a); a.click();
        setTimeout(function(){ URL.revokeObjectURL(url); a.remove(); }, 500);
      });
    }
  });
})();
</script>


<!-- === OPERATOR SELECT FIX v27: robust detection + refresh + safe fallback === -->
<style>
#opRefreshBar{ display:flex; gap:8px; align-items:center; margin:6px 0; }
#opRefreshBar button{ font-size:12px; padding:6px 10px; border:1px solid #bbb; border-radius:8px; background:#fff; cursor:pointer; }
#targetOperator{ min-width: 200px; }
</style>
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    function detectMap(){
      for (var k in window){
        try{
          var v = window[k];
          if (k.startsWith('map_') && v && typeof v.eachLayer==='function') return v;
        }catch(e){}
      }
      return null;
    }
    var Lmap = detectMap();
    if (!Lmap) return;

    // Try to find LayersControl object in globals more robustly
    function detectLayerControl(){
      for (var k in window){
        try{
          var v = window[k];
          if (v && v._layers && v._map === Lmap && (typeof v.addOverlay==='function' || typeof v.addBaseLayer==='function')){
            return v;
          }
        }catch(e){}
      }
      return null;
    }

    function getOperatorLayers(){
      var res = [];
      var lc = detectLayerControl();
      if (lc && lc._layers){
        Object.values(lc._layers).forEach(function(rec){
          try{
            if (rec && rec.overlay && rec.layer && typeof rec.layer.eachLayer==='function'){
              var nm = (rec.name||'').toString();
              if (/оператор/i.test(nm) || /без оператора/i.test(nm)){
                res.push({name: nm, layer: rec.layer});
              }
            }
          }catch(e){}
        });
      }
      // Fallback: deduce names from labels in overlays section (DOM), if sizes mismatch
      try{
        if (res.length === 0){
          var labels = document.querySelectorAll('.leaflet-control-layers-overlays label');
          labels.forEach(function(l){
            var nm = (l.textContent||'').trim();
            if (nm){
              res.push({name: nm, layer: null}); // no link, but at least names shown
            }
          });
        }
      }catch(e){}
      return res;
    }

    // Refill the <select id="targetOperator">
    function refillOperatorSelect(){
      var sel = document.getElementById('targetOperator');
      if (!sel) return;
      while (sel.firstChild) sel.removeChild(sel.firstChild);
      var layers = getOperatorLayers();
      layers.forEach(function(o){
        var opt = document.createElement('option');
        opt.value = o.name; opt.textContent = o.name;
        sel.appendChild(opt);
      });
      // Add '[Без оператора]' fallback in case нет в контроле
      var hasNone = layers.some(function(o){ return /без оператора/i.test(o.name); });
      if (!hasNone){
        var opt = document.createElement('option'); opt.value = 'Без оператора'; opt.textContent = 'Без оператора'; sel.appendChild(opt);
      }
      // store mapping globally for reassignment logic (if файл v24 есть)
      window.__operatorLayersCache = layers;
    }

    // Insert "Обновить список операторов" button right next to select
    var assignBtn = document.getElementById('assignOp');
    var sel = document.getElementById('targetOperator');
    if (assignBtn && sel && !document.getElementById('refreshOps')){
      var bar = document.createElement('div'); bar.id = 'opRefreshBar';
      bar.innerHTML = '<button id="refreshOps">Обновить список операторов</button>';
      assignBtn.parentNode.insertBefore(bar, assignBtn);
      document.getElementById('refreshOps').addEventListener('click', function(e){ e.preventDefault(); refillOperatorSelect(); });
    }

    // Initial fill
    setTimeout(refillOperatorSelect, 50);
    setTimeout(refillOperatorSelect, 400);

    // Patch reassignment in case earlier script looks into operatorLayers variable
    // Provide a global helper to find group by name
    window.__findGroupByName = function(name){
      var layers = (window.__operatorLayersCache || getOperatorLayers());
      // prefer entries with layer object
      for (var i=0;i<layers.length;i++){ if (layers[i].name===name && layers[i].layer) return layers[i]; }
      return layers.find(function(o){ return o.name===name; }) || null;
    };

    // If previous script uses operatorLayers, we try to override it when empty
    if (window.operatorLayers && window.operatorLayers.length===0){
      window.operatorLayers = getOperatorLayers();
    }
  });
})();
</script>


<!-- === SELECTION FIX v28: надёжное выделение точек (tap/click), автоподключение к маркерам === -->
<style>
/* Чётче подсветка выбранной точки */
.leaflet-interactive.marker-selected-outline {
  outline: 2px solid #1976d2 !important;
  outline-offset: 2px;
}
</style>
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    // 1) Обнаружим карту
    var Lmap = null;
    for (var k in window){ try{ if (k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap = window[k]; break; } }catch(e){} }
    if (!Lmap) return;
    var L = window.L;

    // 2) Глобальные структуры выбора (делимся с другими скриптами)
    window.__sel__ = window.__sel__ || { set:new Set(), markers:new WeakMap() };

    // 3) Функции определения «маркерности»
    function isMarker(x){
      return x && typeof x.getLatLng === 'function' && (x._path || x._icon);
    }
    function markerKey(m){ return m && m._leaflet_id ? m._leaflet_id : (Math.random()+':'+Date.now()); }

    // 4) Визуальная подсветка
    function mark(m, on){
      try{
        if (m.setRadius){
          if (typeof m.__origRadius === 'undefined') m.__origRadius = m.options.radius || 8;
          m.setRadius(on ? (m.__origRadius + 3) : m.__origRadius);
        }
        var el = m._path || m._icon;
        if (el){
          if (on) el.classList.add('marker-selected-outline');
          else el.classList.remove('marker-selected-outline');
          // гарантируем кликабельность
          el.style.pointerEvents = 'auto';
        }
      }catch(e){}
    }

    // 5) Счётчик в UI (если есть)
    function updateCounter(){
      var c = document.getElementById('selCount');
      if (c) c.textContent = window.__sel__.set.size;
    }

    // 6) Обработчик клика/тапа по маркеру
    function onPick(ev){
      var edit = document.getElementById('editMode');
      if (!edit || !edit.checked) return;           // активируем только в режиме редактирования
      var m = this;
      var key = markerKey(m);
      if (window.__sel__.set.has(key)){ window.__sel__.set.delete(key); mark(m,false); }
      else { window.__sel__.set.add(key); mark(m,true); }
      updateCounter();
      if (ev && ev.originalEvent){
        ev.originalEvent.stopPropagation && ev.originalEvent.stopPropagation();
        ev.originalEvent.preventDefault && ev.originalEvent.preventDefault();
      }
    }

    // 7) Подключение обработчиков ко всем маркерам на карте
    function bindToMarker(m){
      if (!isMarker(m) || m.__pickBound) return;
      try{
        m.options.interactive = true; // на всякий случай
        if (m._path) m._path.style.pointerEvents = 'auto';
      }catch(e){}
      m.on('click', onPick);
      m.on('touchstart', onPick);
      m.__pickBound = true;
      window.__sel__.markers.set(m, true);
    }

    function scanAll(){
      Lmap.eachLayer(function(ly){
        try{
          if (isMarker(ly)) bindToMarker(ly);
          else if (ly && typeof ly.eachLayer === 'function'){
            ly.eachLayer(function(ch){ try{ if (isMarker(ch)) bindToMarker(ch); }catch(e){} });
          }
        }catch(e){}
      });
    }

    // 8) Сброс выделения кнопкой «Снять выделение» (если есть)
    var unbtn = document.getElementById('unselectAll');
    if (unbtn){
      var c = unbtn.cloneNode(true);
      unbtn.parentNode.replaceChild(c, unbtn);
      c.addEventListener('click', function(e){
        e.preventDefault();
        window.__sel__.set.forEach(function(){ /* just clear set */ });
        window.__sel__.set = new Set();
        scanAll(); // ensure markers exist
        // снять визуальную подсветку
        Lmap.eachLayer(function(ly){
          try{
            if (isMarker(ly)) mark(ly,false);
            else if (ly && typeof ly.eachLayer==='function'){ ly.eachLayer(function(ch){ if (isMarker(ch)) mark(ch,false); }); }
          }catch(e){}
        });
        updateCounter();
      });
    }

    // 9) Первичная привязка и авто-скан при изменении слоёв
    scanAll();
    Lmap.on('layeradd', function(e){ try{ var ly = e.layer; if (isMarker(ly)) bindToMarker(ly); else if (ly && typeof ly.eachLayer==='function'){ ly.eachLayer(function(ch){ if (isMarker(ch)) bindToMarker(ch); }); } }catch(err){} });

    // Резервное периодическое сканирование (на случай поздней инициализации)
    setTimeout(scanAll, 300);
    setTimeout(scanAll, 1000);
    setTimeout(scanAll, 2000);
  });
})();
</script>


<!-- === REASSIGN FIX v29: надёжный поиск слоёв операторов и назначение === -->
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    // detect map
    var Lmap=null; for (var k in window){ try{ if(k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap=window[k]; break; } }catch(e){} }
    if(!Lmap) return;

    function norm(s){ return String(s||'').toLowerCase().replace(/\s+/g,' ').trim(); }

    function getLayerControl(){
      for (var k in window){
        try{
          var v=window[k];
          if (v && v._layers && v._map===Lmap && (typeof v.addOverlay==='function' || typeof v.addBaseLayer==='function')) return v;
        }catch(e){}
      }
      return null;
    }
    function getOperatorGroups(){
      var res=[]; var lc=getLayerControl();
      if (lc && lc._layers){
        Object.values(lc._layers).forEach(function(rec){
          try{
            if (rec && rec.overlay && rec.layer && typeof rec.layer.eachLayer==='function'){
              var nm=(rec.name||'').toString();
              if (/оператор/i.test(nm) || /без оператора/i.test(nm)){
                res.push({name:nm, nameN:norm(nm), layer:rec.layer});
              }
            }
          }catch(e){}
        });
      }
      return res;
    }
    function findGroupByName(name){
      var n=norm(name); var groups=getOperatorGroups();
      for (var i=0;i<groups.length;i++){ if (groups[i].nameN===n) return groups[i]; }
      // fallback: startsWith/contains
      for (var i=0;i<groups.length;i++){ if (groups[i].nameN.indexOf(n)!==-1 || n.indexOf(groups[i].nameN)!==-1) return groups[i]; }
      return null;
    }

    function isMarker(x){ return x && typeof x.getLatLng==='function' && (x._path || x._icon); }
    function forEachMarker(fn){
      Lmap.eachLayer(function(ly){
        try{
          if (isMarker(ly)) fn(ly);
          else if (ly && typeof ly.eachLayer==='function'){
            ly.eachLayer(function(ch){ if (isMarker(ch)) fn(ch); });
          }
        }catch(e){}
      });
    }
    function eachSelectedMarker(fn){
      var sel = (window.__sel__ && window.__sel__.set) ? window.__sel__.set : new Set();
      if (!sel.size){ return 0; }
      var cnt=0;
      forEachMarker(function(m){
        try{
          if (sel.has(m._leaflet_id)){ cnt++; fn(m); }
        }catch(e){}
      });
      return cnt;
    }

    function findCurrentGroupFor(m){
      var groups=getOperatorGroups();
      for (var i=0;i<groups.length;i++){
        try{ if (groups[i].layer && groups[i].layer.hasLayer && groups[i].layer.hasLayer(m)) return groups[i]; }catch(e){}
      }
      return null;
    }

    function unmark(m){
      try{
        if (m.setRadius && typeof m.__origRadius!=='undefined') m.setRadius(m.__origRadius);
        var el=m._path||m._icon; if(el) el.classList.remove('marker-selected-outline');
      }catch(e){}
    }
    function updateCounter(){ var c=document.getElementById('selCount'); if(c && window.__sel__) c.textContent = window.__sel__.set.size; }

    function doAssign(toName){
      var toG = findGroupByName(toName);
      if (!toG || !toG.layer){ alert('Не найден слой оператора: ' + toName + '\\nНажмите «Обновить список операторов», затем попробуйте ещё раз.'); return; }
      var moved=0;
      eachSelectedMarker(function(m){
        var fromG=findCurrentGroupFor(m);
        if (fromG && fromG.layer && fromG.layer!==toG.layer){
          try{ fromG.layer.removeLayer(m); toG.layer.addLayer(m); moved++; unmark(m); }catch(e){}
        }
        if (window.__sel__ && window.__sel__.set) window.__sel__.set.delete(m._leaflet_id);
      });
      updateCounter();
      if (!moved) alert('Нет выбранных точек для переназначения.');
    }

    function doClear(){
      // find "Без оператора"
      var groups=getOperatorGroups();
      var target=null;
      for (var i=0;i<groups.length;i++){ if (/без оператора/i.test(groups[i].name)){ target=groups[i]; break; } }
      if (!target){ alert('Нет слоя «Без оператора».'); return; }
      doAssign(target.name);
    }

    // Rewire buttons
    function rewire(id, fn){
      var b=document.getElementById(id); if(!b) return;
      var c=b.cloneNode(true); b.parentNode.replaceChild(c,b);
      c.addEventListener('click', function(e){ e.preventDefault(); fn(); });
    }
    rewire('assignOp', function(){
      var sel=document.getElementById('targetOperator'); var name=sel && sel.value;
      if (!name){ alert('Не выбран оператор.'); return; }
      doAssign(name);
    });
    rewire('clearOp', doClear);
  });
})();
</script>


<!-- === REASSIGN ROBUST v30: авто-создание "Без оператора", жёсткое сопоставление слоёв, ленивое индексирование === -->
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    var Lmap=null; for (var k in window){ try{ if(k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap=window[k]; break; } }catch(e){} }
    if(!Lmap) return;

    function norm(s){ return String(s||'').replace(/\s+/g,' ').replace(/\u00A0/g,' ').toLowerCase().trim(); }
    var index = {};   // nameN -> layer
    var controlObj = null;

    function detectControl(){
      // Найдём объект Leaflet.Control.Layers (не DOM)
      for (var k in window){
        try{
          var v=window[k];
          if (v && v._layers && v._map===Lmap && (typeof v.addOverlay==='function' || typeof v.addBaseLayer==='function')){
            controlObj = v; return;
          }
        }catch(e){}
      }
    }
    function buildIndex(){
      index = {};
      detectControl();
      if (controlObj && controlObj._layers){
        Object.values(controlObj._layers).forEach(function(rec){
          try{
            if (rec && rec.overlay && rec.layer && typeof rec.layer.eachLayer==='function'){
              var nm = (rec.name||'').toString();
              if (/оператор/i.test(nm) || /без оператора/i.test(nm)){
                index[norm(nm)] = rec.layer;
              }
            }
          }catch(e){}
        });
      }
      // На всякий случай пробежимся по карте: добавим все FeatureGroup, у которых в DOM есть соответствующая надпись.
      try{
        var labels = document.querySelectorAll('.leaflet-control-layers-overlays label');
        var nameSet = Array.prototype.map.call(labels, function(l){ return norm(l.textContent||''); });
        Lmap.eachLayer(function(ly){
          try{
            if (ly && typeof ly.eachLayer==='function'){
              // грубо считаем это операторским слоем, если есть маркеры внутри
              var has=0; ly.eachLayer(function(ch){ if (ch && ch.getLatLng) has++; });
              if (has>0){
                // нет точного имени, но пусть будет "группа" без имени — пригодится при назначении
                var key = ly._leaflet_id && nameSet[0] ? ('group:'+ly._leaflet_id) : null;
              }
            }
          }catch(e){}
        });
      }catch(e){}
    }

    function ensureIndex(){ if (!Object.keys(index).length) buildIndex(); }

    function findGroupByName(name){
      ensureIndex();
      var n = norm(name);
      if (index[n]) return index[n];
      // мягкий поиск по включению
      for (var key in index){ if (key.indexOf(n)!==-1 || n.indexOf(key)!==-1) return index[key]; }
      return null;
    }

    function ensureNoOperatorGroup(){
      var n = norm('Без оператора');
      var layer = findGroupByName('Без оператора');
      if (layer) return layer;
      // создаём новый FeatureGroup и регистрируем в контроле, если он есть
      var grp = L.featureGroup().addTo(Lmap);
      try{
        if (!controlObj) detectControl();
        if (controlObj && typeof controlObj.addOverlay==='function'){
          controlObj.addOverlay(grp, 'Без оператора');
        }
      }catch(e){}
      index[n] = grp;
      return grp;
    }

    function selectedIds(){
      return (window.__sel__ && window.__sel__.set) ? Array.from(window.__sel__.set) : [];
    }

    function forEachSelected(fn){
      var ids = selectedIds(); if (!ids.length) return 0;
      var cnt=0;
      Lmap.eachLayer(function(ly){
        try{
          if (ly && ly._leaflet_id && ids.indexOf(ly._leaflet_id)!==-1){ cnt++; fn(ly); }
          else if (ly && typeof ly.eachLayer==='function'){
            ly.eachLayer(function(ch){ if (ch && ch._leaflet_id && ids.indexOf(ch._leaflet_id)!==-1){ cnt++; fn(ch); } });
          }
        }catch(e){}
      });
      return cnt;
    }

    function unmark(m){
      try{
        if (m.setRadius && typeof m.__origRadius!=='undefined') m.setRadius(m.__origRadius);
        var el=m._path||m._icon; if(el) el.classList.remove('marker-selected-outline');
      }catch(e){}
    }
    function updateCounter(){ var c=document.getElementById('selCount'); if(c && window.__sel__) c.textContent = window.__sel__.set.size; }

    function assignTo(name){
      var target = (norm(name)==='без оператора') ? ensureNoOperatorGroup() : findGroupByName(name);
      if (!target){ alert('Не найден слой оператора: '+name+'\\nНажмите «Обновить список операторов», затем попробуйте ещё раз.'); return; }
      var moved=0;
      forEachSelected(function(m){
        // определить текущую группу (если есть)
        var current=null;
        Lmap.eachLayer(function(ly){
          try{ if (ly && typeof ly.hasLayer==='function' && ly.hasLayer(m)) current = ly; }catch(e){}
        });
        try{
          if (current && current!==target){
            current.removeLayer && current.removeLayer(m);
            target.addLayer && target.addLayer(m);
            moved++; unmark(m);
          }
        }catch(e){}
        if (window.__sel__ && window.__sel__.set) window.__sel__.set.delete(m._leaflet_id);
      });
      updateCounter();
      if (!moved) alert('Нет выбранных точек для переназначения.');
    }

    function rewire(id, handler){
      var b=document.getElementById(id); if(!b) return;
      var c=b.cloneNode(true); b.parentNode.replaceChild(c,b); c.addEventListener('click', function(e){ e.preventDefault(); handler(); });
    }

    rewire('assignOp', function(){
      var sel=document.getElementById('targetOperator'); var name=sel && sel.value;
      if (!name){ alert('Не выбран оператор.'); return; }
      assignTo(name);
    });
    rewire('clearOp', function(){ assignTo('Без оператора'); });

    // также перезаполним список операторов после построения индекса
    setTimeout(function(){
      ensureIndex();
      var sel=document.getElementById('targetOperator');
      if (sel && sel.options.length===0){
        for (var key in index){
          var opt=document.createElement('option'); opt.value=key; opt.textContent=key.replace(/\b\w/g, function(m){return m.toUpperCase();});
          sel.appendChild(opt);
        }
        // обязательно добавим "Без оператора"
        var hasNone=false; for (var i=0;i<sel.options.length;i++){ if (norm(sel.options[i].value)==='без оператора') hasNone=true; }
        if (!hasNone){ var o=document.createElement('option'); o.value='Без оператора'; o.textContent='Без оператора'; sel.appendChild(o); }
      }
    }, 500);
  });
})();
</script>


<!-- === OPERATOR MAPPING via overlay toggle v31: гарантированное сопоставление имени -> слой === -->
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    var Lmap=null; for (var k in window){ try{ if(k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap=window[k]; break; } }catch(e){} }
    if(!Lmap) return;

    function norm(s){ return String(s||'').replace(/\u00A0/g,' ').replace(/\s+/g,' ').toLowerCase().trim(); }

    // Глобальный индекс
    window.__opIndex = window.__opIndex || {};

    function onceLayerEvent(){
      return new Promise(function(resolve){
        var fired=false;
        function h(e){ if(fired) return; fired=true; resolve(e); }
        Lmap.once('layeradd', h);
        Lmap.once('layerremove', h);
        setTimeout(function(){ if(!fired) resolve(null); }, 800);
      });
    }

    async function mapOverlays(){
      var labels = Array.prototype.slice.call(document.querySelectorAll('.leaflet-control-layers-overlays label'));
      for (var i=0;i<labels.length;i++){
        var lab = labels[i];
        try{
          var name = (lab.textContent||'').trim();
          var input = lab.querySelector('input[type="checkbox"]');
          if (!name || !input) continue;
          var key = norm(name);
          // skip if already indexed
          if (window.__opIndex[key]) continue;
          var initial = !!input.checked;
          // toggle off/on to поймать слой
          var ev1 = onceLayerEvent(); input.click(); ev1 = await ev1;
          // restore
          var ev2 = onceLayerEvent(); input.click(); await ev2;
          if (ev1 && ev1.layer){
            window.__opIndex[key] = ev1.layer;
          }
        }catch(err){}
      }
      return window.__opIndex;
    }

    function ensureIndex(){
      if (Object.keys(window.__opIndex).length) return Promise.resolve(window.__opIndex);
      return mapOverlays();
    }

    // Кнопка «Обновить список операторов» переиндексирует и перезаполняет селект
    var refreshBtn = document.getElementById('refreshOps');
    if (refreshBtn){
      var b = refreshBtn.cloneNode(true);
      refreshBtn.parentNode.replaceChild(b, refreshBtn);
      b.addEventListener('click', function(e){
        e.preventDefault();
        window.__opIndex = {};
        mapOverlays().then(function(){
          refillSelectFromIndex();
          alert('Список операторов обновлён.');
        });
      });
    }

    function refillSelectFromIndex(){
      var sel=document.getElementById('targetOperator'); if(!sel) return;
      while (sel.firstChild) sel.removeChild(sel.firstChild);
      var keys = Object.keys(window.__opIndex);
      keys.sort();
      keys.forEach(function(k){
        var o=document.createElement('option'); o.value=k; o.textContent=k.replace(/\b\w/g, function(m){ return m.toUpperCase();});
        sel.appendChild(o);
      });
      // добавить «Без оператора» всегда
      var hasNone = keys.some(function(k){ return norm(k)==='без оператора'; });
      if (!hasNone){
        var o=document.createElement('option'); o.value='Без оператора'; o.textContent='Без оператора'; sel.appendChild(o);
      }
    }

    // первичная индексация
    setTimeout(function(){ ensureIndex().then(refillSelectFromIndex); }, 200);

    // Логика назначения с ожиданием индекса
    function unmark(m){
      try{
        if (m.setRadius && typeof m.__origRadius!=='undefined') m.setRadius(m.__origRadius);
        var el=m._path||m._icon; if(el) el.classList.remove('marker-selected-outline');
      }catch(e){}
    }
    function updateCounter(){ var c=document.getElementById('selCount'); if(c && window.__sel__) c.textContent = window.__sel__.set.size; }

    function selectedIds(){ return (window.__sel__ && window.__sel__.set) ? Array.from(window.__sel__.set) : []; }

    function forEachSelected(fn){
      var ids=selectedIds(); if(!ids.length) return 0; var cnt=0;
      Lmap.eachLayer(function(ly){
        try{
          if (ly && ly._leaflet_id && ids.indexOf(ly._leaflet_id)!==-1){ cnt++; fn(ly); }
          else if (ly && typeof ly.eachLayer==='function'){
            ly.eachLayer(function(ch){ if (ch && ch._leaflet_id && ids.indexOf(ch._leaflet_id)!==-1){ cnt++; fn(ch); } });
          }
        }catch(e){}
      });
      return cnt;
    }

    function currentGroupOf(m){
      var found=null;
      Lmap.eachLayer(function(ly){
        try{ if (ly && typeof ly.hasLayer==='function' && ly.hasLayer(m)) found=ly; }catch(e){}
      });
      return found;
    }

    function ensureNoOperatorGroup(){
      // попытка найти в индексе
      var target = window.__opIndex[norm('Без оператора')];
      if (target) return target;
      // иначе создадим
      var grp = L.featureGroup().addTo(Lmap);
      try{
        // попробуем прикрутить к контролу: щёлкнем фиктивный overlay? или добавим сами если controlObj есть
        for (var k in window){
          var v=window[k];
          if (v && v._layers && v._map===Lmap && typeof v.addOverlay==='function'){
            v.addOverlay(grp, 'Без оператора'); break;
          }
        }
      }catch(e){}
      window.__opIndex[norm('Без оператора')] = grp;
      refillSelectFromIndex();
      return grp;
    }

    function assignToIndexKey(key){
      ensureIndex().then(function(){
        var target = window.__opIndex[key];
        if (!target && norm(key)==='без оператора'){ target = ensureNoOperatorGroup(); }
        if (!target){ alert('Не найден слой оператора: '+key+'\\nНажмите «Обновить список операторов», затем попробуйте ещё раз.'); return; }
        var moved=0;
        forEachSelected(function(m){
          var cur=currentGroupOf(m);
          try{
            if (cur && cur!==target){
              cur.removeLayer && cur.removeLayer(m);
              target.addLayer && target.addLayer(m);
              moved++; unmark(m);
            }
          }catch(e){}
          if (window.__sel__ && window.__sel__.set) window.__sel__.set.delete(m._leaflet_id);
        });
        updateCounter();
        if (!moved){ alert('Нет выбранных точек для переназначения.'); }
      });
    }

    function rewire(id, handler){
      var b=document.getElementById(id); if(!b) return;
      var c=b.cloneNode(true); b.parentNode.replaceChild(c,b); c.addEventListener('click', function(e){ e.preventDefault(); handler(); });
    }
    rewire('assignOp', function(){
      var sel=document.getElementById('targetOperator'); var name=sel && sel.value;
      if (!name){ alert('Не выбран оператор.'); return; }
      assignToIndexKey(norm(name));
    });
    rewire('clearOp', function(){ assignToIndexKey(norm('Без оператора')); });
  });
})();
</script>


<!-- === v32 UX: не теряем точки при назначении (включаем слой, центрируемся), undo для переназначений === -->
<style>
#undoAssign{ font-size:12px; padding:6px 10px; border:1px solid #bbb; border-radius:8px; background:#fff; cursor:pointer; margin-left:8px; }
</style>
<script>
(function(){
  function ready(fn){ if(document.readyState!='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
  ready(function(){
    var Lmap=null; for (var k in window){ try{ if(k.startsWith('map_') && window[k] && typeof window[k].eachLayer==='function'){ Lmap=window[k]; break; } }catch(e){} }
    if(!Lmap) return;
    function norm(s){ return String(s||'').replace(/\u00A0/g,' ').replace(/\s+/g,' ').toLowerCase().trim(); }

    // Индекс слоёв, созданный в v31
    window.__opIndex = window.__opIndex || {};

    // Добавляем кнопку отмены рядом с «Назначить»
    (function addUndoButton(){
      var a=document.getElementById('assignOp');
      if(!a || document.getElementById('undoAssign')) return;
      var btn=document.createElement('button'); btn.id='undoAssign'; btn.textContent='Отменить назначение';
      a.parentNode.insertBefore(btn, a.nextSibling);
    })();

    // Общие утилиты
    function selectedIds(){ return (window.__sel__ && window.__sel__.set) ? Array.from(window.__sel__.set) : []; }
    function unmark(m){
      try{
        if (m.setRadius && typeof m.__origRadius!=='undefined') m.setRadius(m.__origRadius);
        var el=m._path||m._icon; if(el) el.classList.remove('marker-selected-outline');
      }catch(e){}
    }
    function updateCounter(){ var c=document.getElementById('selCount'); if(c && window.__sel__) c.textContent = window.__sel__.set.size; }
    function currentGroupOf(m){
      var found=null;
      Lmap.eachLayer(function(ly){
        try{ if (ly && typeof ly.hasLayer==='function' && ly.hasLayer(m)) found=ly; }catch(e){}
      });
      return found;
    }
    function ensureVisible(layer){ try{ if (layer && !Lmap.hasLayer(layer) && layer.addTo) layer.addTo(Lmap); }catch(e){} }

    function forEachSelected(fn){
      var ids=selectedIds(); if(!ids.length) return 0; var cnt=0;
      Lmap.eachLayer(function(ly){
        try{
          if (ly && ly._leaflet_id && ids.indexOf(ly._leaflet_id)!==-1){ cnt++; fn(ly); }
          else if (ly && typeof ly.eachLayer==='function'){
            ly.eachLayer(function(ch){ if (ch && ch._leaflet_id && ids.indexOf(ch._leaflet_id)!==-1){ cnt++; fn(ch); } });
          }
        }catch(e){}
      });
      return cnt;
    }

    // Undo storage
    window.__lastReassign = null;

    function assignToKey(key){
      var target = window.__opIndex[key];
      if (!target && norm(key)==='без оператора'){
        // создать если не было
        var grp = L.featureGroup().addTo(Lmap);
        // попытка привязать к контролу
        for (var k in window){ var v=window[k]; if (v && v._layers && v._map===Lmap && typeof v.addOverlay==='function'){ v.addOverlay(grp, 'Без оператора'); break; } }
        window.__opIndex[norm('Без оператора')] = target = grp;
      }
      if (!target){ alert('Не найден слой оператора: '+key+'\\nНажмите «Обновить список операторов», затем попробуйте ещё раз.'); return; }

      var changes=[]; var bounds=null; var moved=0;
      ensureVisible(target);

      forEachSelected(function(m){
        var from=currentGroupOf(m);
        try{
          if (from && from!==target){
            from.removeLayer && from.removeLayer(m);
            target.addLayer && target.addLayer(m);
            if (!bounds){ bounds = L.latLngBounds(); }
            bounds.extend(m.getLatLng());
            changes.push({m:m, from:from, to:target});
            moved++; unmark(m);
          }
        }catch(e){}
        if (window.__sel__ && window.__sel__.set) window.__sel__.set.delete(m._leaflet_id);
      });
      updateCounter();
      if (!moved){ alert('Нет выбранных точек для переназначения.'); return; }

      // Центрируемся на изменённых
      try{
        if (bounds && bounds.isValid()){
          if (bounds.getNorthEast().equals(bounds.getSouthWest())){
            Lmap.flyTo(bounds.getNorthEast(), Math.max(Lmap.getZoom(), 15));
          }else{
            Lmap.fitBounds(bounds, {padding:[40,40]});
          }
        }
      }catch(e){}

      // Сохраняем в undo
      window.__lastReassign = changes;
    }

    // Переопределяем кнопки из v31 на новые обработчики
    function rewire(id, handler){
      var b=document.getElementById(id); if(!b) return;
      var c=b.cloneNode(true); b.parentNode.replaceChild(c,b); c.addEventListener('click', function(e){ e.preventDefault(); handler(); });
    }
    rewire('assignOp', function(){
      var sel=document.getElementById('targetOperator'); var name=sel && sel.value;
      if (!name){ alert('Не выбран оператор.'); return; }
      var key = norm(name);
      assignToKey(key);
    });
    rewire('clearOp', function(){ assignToKey(norm('Без оператора')); });

    // Обработчик Undo
    (function wireUndo(){
      var b=document.getElementById('undoAssign');
      if(!b) return;
      b.addEventListener('click', function(e){
        e.preventDefault();
        var list = window.__lastReassign || [];
        if (!list.length){ alert('Нет назначений для отмены.'); return; }
        list.forEach(function(rec){
          try{
            if (rec.to && rec.to.removeLayer) rec.to.removeLayer(rec.m);
            if (rec.from && rec.from.addLayer) rec.from.addLayer(rec.m);
          }catch(err){}
        });
        // показать исходную группу
        if (list[0] && list[0].from) ensureVisible(list[0].from);
        window.__lastReassign = null;
      });
    })();
  });
})();
</script>

</body>
<script>
    
    
            var map_07240632b07852a755665ada692280cf = L.map(
                "map_07240632b07852a755665ada692280cf",
                {
                    center: [55.741140671428575, 37.514380428571435],
                    crs: L.CRS.EPSG3857,
                    zoom: 9,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_6e898b4075cd2e7676d2c2eca9a39422 = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var feature_group_6511f606fd47dcbae96b7341165e6072 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_6635f93f4a457b265f4a30a42ad8edca = L.circleMarker(
                [55.776132, 37.655356],
                {"bubblingMouseEvents": true, "color": "#a375a0", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#a375a0", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_6511f606fd47dcbae96b7341165e6072);
        
    
        var popup_8f1e35a08d8f63f8a8d57774e531d706 = L.popup({"maxWidth": 360});

        
            var html_ae2bf6112d0595c91bf18a3a38af7ca4 = $(`<div id="html_ae2bf6112d0595c91bf18a3a38af7ca4" style="width: 100.0%; height: 100.0%;"><b>Казанский</b><br>Оператор: Алиев Айрат<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 19380.0<br>Автоматов на локации: 9</div>`)[0];
            popup_8f1e35a08d8f63f8a8d57774e531d706.setContent(html_ae2bf6112d0595c91bf18a3a38af7ca4);
        

        circle_marker_6635f93f4a457b265f4a30a42ad8edca.bindPopup(popup_8f1e35a08d8f63f8a8d57774e531d706)
        ;

        
    
    
            circle_marker_6635f93f4a457b265f4a30a42ad8edca.bindTooltip(
                `<div>
                     Казанский
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_0f38a76460ed4654f7f0566b018cc394 = L.circleMarker(
                [55.785296, 37.673699],
                {"bubblingMouseEvents": true, "color": "#a375a0", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#a375a0", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_6511f606fd47dcbae96b7341165e6072);
        
    
        var popup_4a937fca4d6acbe7c849ade51549ca40 = L.popup({"maxWidth": 360});

        
            var html_948c9ed57042f9b03175b101ecb02c4d = $(`<div id="html_948c9ed57042f9b03175b101ecb02c4d" style="width: 100.0%; height: 100.0%;"><b>Митьково</b><br>Оператор: Алиев Айрат<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 7366.19<br>Автоматов на локации: 2</div>`)[0];
            popup_4a937fca4d6acbe7c849ade51549ca40.setContent(html_948c9ed57042f9b03175b101ecb02c4d);
        

        circle_marker_0f38a76460ed4654f7f0566b018cc394.bindPopup(popup_4a937fca4d6acbe7c849ade51549ca40)
        ;

        
    
    
            circle_marker_0f38a76460ed4654f7f0566b018cc394.bindTooltip(
                `<div>
                     Митьково
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_6d456887ed388438edae8b7dbef889c9 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_3f9cf6f722b4ad4f6d54da51efb85527 = L.circleMarker(
                [55.758666, 37.664545],
                {"bubblingMouseEvents": true, "color": "#66936c", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#66936c", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_6d456887ed388438edae8b7dbef889c9);
        
    
        var popup_13a822c1c10061f78124cb7100a10ae7 = L.popup({"maxWidth": 360});

        
            var html_006f32b45ab916d60daebb2398e4496d = $(`<div id="html_006f32b45ab916d60daebb2398e4496d" style="width: 100.0%; height: 100.0%;"><b>банк</b><br>Оператор: Алиев Руслан<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 1469.0<br>Автоматов на локации: 1</div>`)[0];
            popup_13a822c1c10061f78124cb7100a10ae7.setContent(html_006f32b45ab916d60daebb2398e4496d);
        

        circle_marker_3f9cf6f722b4ad4f6d54da51efb85527.bindPopup(popup_13a822c1c10061f78124cb7100a10ae7)
        ;

        
    
    
            circle_marker_3f9cf6f722b4ad4f6d54da51efb85527.bindTooltip(
                `<div>
                     банк
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_557b5e70d013d8e76e6b53b90f4e580f = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_f1616f02954bf30a765b1e913d2ad075 = L.circleMarker(
                [55.776186, 37.581188],
                {"bubblingMouseEvents": true, "color": "#6a8989", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#6a8989", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_557b5e70d013d8e76e6b53b90f4e580f);
        
    
        var popup_be93a368e182df6a700151afc427a204 = L.popup({"maxWidth": 360});

        
            var html_66686c103866976f1f737ce883a2a550 = $(`<div id="html_66686c103866976f1f737ce883a2a550" style="width: 100.0%; height: 100.0%;"><b>Белорусский</b><br>Оператор: Аминов Руслан<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 37668.84<br>Автоматов на локации: 17</div>`)[0];
            popup_be93a368e182df6a700151afc427a204.setContent(html_66686c103866976f1f737ce883a2a550);
        

        circle_marker_f1616f02954bf30a765b1e913d2ad075.bindPopup(popup_be93a368e182df6a700151afc427a204)
        ;

        
    
    
            circle_marker_f1616f02954bf30a765b1e913d2ad075.bindTooltip(
                `<div>
                     Белорусский
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_cdfbf9257d94b81fae07c8c22c4e3085 = L.circleMarker(
                [55.743117, 37.566064],
                {"bubblingMouseEvents": true, "color": "#6a8989", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#6a8989", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_557b5e70d013d8e76e6b53b90f4e580f);
        
    
        var popup_3f4cf31e2309328a22ab37bef2703a8e = L.popup({"maxWidth": 360});

        
            var html_f0033520b85bf49262317cad1f21464e = $(`<div id="html_f0033520b85bf49262317cad1f21464e" style="width: 100.0%; height: 100.0%;"><b>Киевский</b><br>Оператор: Аминов Руслан<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 65958.0<br>Автоматов на локации: 13</div>`)[0];
            popup_3f4cf31e2309328a22ab37bef2703a8e.setContent(html_f0033520b85bf49262317cad1f21464e);
        

        circle_marker_cdfbf9257d94b81fae07c8c22c4e3085.bindPopup(popup_3f4cf31e2309328a22ab37bef2703a8e)
        ;

        
    
    
            circle_marker_cdfbf9257d94b81fae07c8c22c4e3085.bindTooltip(
                `<div>
                     Киевский
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_938f45d288e802706bc979a1b1ff0a71 = L.circleMarker(
                [55.760742, 37.66194],
                {"bubblingMouseEvents": true, "color": "#6a8989", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#6a8989", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_557b5e70d013d8e76e6b53b90f4e580f);
        
    
        var popup_3fe97fba116b54d94f652b2cf59362c0 = L.popup({"maxWidth": 360});

        
            var html_d77ad773d23c79f6f804236cd7777de2 = $(`<div id="html_d77ad773d23c79f6f804236cd7777de2" style="width: 100.0%; height: 100.0%;"><b>Курская</b><br>Оператор: Аминов Руслан<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 2096.15<br>Автоматов на локации: 1</div>`)[0];
            popup_3fe97fba116b54d94f652b2cf59362c0.setContent(html_d77ad773d23c79f6f804236cd7777de2);
        

        circle_marker_938f45d288e802706bc979a1b1ff0a71.bindPopup(popup_3fe97fba116b54d94f652b2cf59362c0)
        ;

        
    
    
            circle_marker_938f45d288e802706bc979a1b1ff0a71.bindTooltip(
                `<div>
                     Курская
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_41dd9f3f691f885e776229808b1a857e = L.circleMarker(
                [55.649761, 37.701619],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_2188a9113290e538ea5611b27d48a121 = L.popup({"maxWidth": 360});

        
            var html_a71f8fe6024d736c81e9294434f5dc2c = $(`<div id="html_a71f8fe6024d736c81e9294434f5dc2c" style="width: 100.0%; height: 100.0%;"><b>Курьяново</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 10346.16<br>Автоматов на локации: 7</div>`)[0];
            popup_2188a9113290e538ea5611b27d48a121.setContent(html_a71f8fe6024d736c81e9294434f5dc2c);
        

        circle_marker_41dd9f3f691f885e776229808b1a857e.bindPopup(popup_2188a9113290e538ea5611b27d48a121)
        ;

        
    
    
            circle_marker_41dd9f3f691f885e776229808b1a857e.bindTooltip(
                `<div>
                     Курьяново
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_79aee373aea4b8e46e110d3ebebfc051 = L.circleMarker(
                [55.648151, 37.65226],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_242cb826c13e7ab916bf00b40da4dcfa = L.popup({"maxWidth": 360});

        
            var html_e2e37e2526c416b7c470cf77f217dad6 = $(`<div id="html_e2e37e2526c416b7c470cf77f217dad6" style="width: 100.0%; height: 100.0%;"><b>Лицей</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 384.0<br>Автоматов на локации: 1</div>`)[0];
            popup_242cb826c13e7ab916bf00b40da4dcfa.setContent(html_e2e37e2526c416b7c470cf77f217dad6);
        

        circle_marker_79aee373aea4b8e46e110d3ebebfc051.bindPopup(popup_242cb826c13e7ab916bf00b40da4dcfa)
        ;

        
    
    
            circle_marker_79aee373aea4b8e46e110d3ebebfc051.bindTooltip(
                `<div>
                     Лицей
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_3211a01c4e2f4ac3f19c15b360ca8e06 = L.circleMarker(
                [55.486264, 37.55523],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_58c2a505e491c01c6453834262fb2ea1 = L.popup({"maxWidth": 360});

        
            var html_f79d3b52e3af16ea6913093722f90c8c = $(`<div id="html_f79d3b52e3af16ea6913093722f90c8c" style="width: 100.0%; height: 100.0%;"><b>Остафьево</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 18326.65<br>Автоматов на локации: 7</div>`)[0];
            popup_58c2a505e491c01c6453834262fb2ea1.setContent(html_f79d3b52e3af16ea6913093722f90c8c);
        

        circle_marker_3211a01c4e2f4ac3f19c15b360ca8e06.bindPopup(popup_58c2a505e491c01c6453834262fb2ea1)
        ;

        
    
    
            circle_marker_3211a01c4e2f4ac3f19c15b360ca8e06.bindTooltip(
                `<div>
                     Остафьево
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_4c978f42b5982498b985948fa0862289 = L.circleMarker(
                [55.674, 37.7289],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_bbfe39a48bc2fc16b1cc0e342f101034 = L.popup({"maxWidth": 360});

        
            var html_b5fa7b6d828c947b682ff384c01ce8e4 = $(`<div id="html_b5fa7b6d828c947b682ff384c01ce8e4" style="width: 100.0%; height: 100.0%;"><b>Перерва</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 9075.65<br>Автоматов на локации: 7</div>`)[0];
            popup_bbfe39a48bc2fc16b1cc0e342f101034.setContent(html_b5fa7b6d828c947b682ff384c01ce8e4);
        

        circle_marker_4c978f42b5982498b985948fa0862289.bindPopup(popup_bbfe39a48bc2fc16b1cc0e342f101034)
        ;

        
    
    
            circle_marker_4c978f42b5982498b985948fa0862289.bindTooltip(
                `<div>
                     Перерва
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_3c401dd0b13cafd48af0eb144bb57a77 = L.circleMarker(
                [55.693287, 37.732094],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_33c748e508aa826910a54947bf443705 = L.popup({"maxWidth": 360});

        
            var html_20d59b139c0c37e9a46414c1d47989e2 = $(`<div id="html_20d59b139c0c37e9a46414c1d47989e2" style="width: 100.0%; height: 100.0%;"><b>Печатники</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 27558.91<br>Автоматов на локации: 20</div>`)[0];
            popup_33c748e508aa826910a54947bf443705.setContent(html_20d59b139c0c37e9a46414c1d47989e2);
        

        circle_marker_3c401dd0b13cafd48af0eb144bb57a77.bindPopup(popup_33c748e508aa826910a54947bf443705)
        ;

        
    
    
            circle_marker_3c401dd0b13cafd48af0eb144bb57a77.bindTooltip(
                `<div>
                     Печатники
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_2a626739b96dda926f4f3cdc9f540873 = L.circleMarker(
                [55.4317, 37.5654],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_ee1d0e33528e3597c49bc72d1a2afec4 = L.popup({"maxWidth": 360});

        
            var html_3eb035d51a3b0c23d494d86a77555b0d = $(`<div id="html_3eb035d51a3b0c23d494d86a77555b0d" style="width: 100.0%; height: 100.0%;"><b>Подольск</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 17320.32<br>Автоматов на локации: 13</div>`)[0];
            popup_ee1d0e33528e3597c49bc72d1a2afec4.setContent(html_3eb035d51a3b0c23d494d86a77555b0d);
        

        circle_marker_2a626739b96dda926f4f3cdc9f540873.bindPopup(popup_ee1d0e33528e3597c49bc72d1a2afec4)
        ;

        
    
    
            circle_marker_2a626739b96dda926f4f3cdc9f540873.bindTooltip(
                `<div>
                     Подольск
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_04cdc1c5bd7c46ed85f56f644eb79fe4 = L.circleMarker(
                [55.470544, 37.555077],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_57aeedc19069a57cab3238fe2de72621 = L.popup({"maxWidth": 360});

        
            var html_11b3b3f8e8191e1cecd7f412219ec123 = $(`<div id="html_11b3b3f8e8191e1cecd7f412219ec123" style="width: 100.0%; height: 100.0%;"><b>Силикатная</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 14611.67<br>Автоматов на локации: 8</div>`)[0];
            popup_57aeedc19069a57cab3238fe2de72621.setContent(html_11b3b3f8e8191e1cecd7f412219ec123);
        

        circle_marker_04cdc1c5bd7c46ed85f56f644eb79fe4.bindPopup(popup_57aeedc19069a57cab3238fe2de72621)
        ;

        
    
    
            circle_marker_04cdc1c5bd7c46ed85f56f644eb79fe4.bindTooltip(
                `<div>
                     Силикатная
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_3aa2ec6f1840f01107be8a7e8d96b031 = L.circleMarker(
                [55.579081, 37.619887],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d);
        
    
        var popup_8424043d96e56a6dde22228c9678959d = L.popup({"maxWidth": 360});

        
            var html_c349e33a547ef10dce748fd4933ef9b4 = $(`<div id="html_c349e33a547ef10dce748fd4933ef9b4" style="width: 100.0%; height: 100.0%;"><b>ЭлектроХаб</b><br>Оператор: Богданов Данил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 2105.0<br>Автоматов на локации: 2</div>`)[0];
            popup_8424043d96e56a6dde22228c9678959d.setContent(html_c349e33a547ef10dce748fd4933ef9b4);
        

        circle_marker_3aa2ec6f1840f01107be8a7e8d96b031.bindPopup(popup_8424043d96e56a6dde22228c9678959d)
        ;

        
    
    
            circle_marker_3aa2ec6f1840f01107be8a7e8d96b031.bindTooltip(
                `<div>
                     ЭлектроХаб
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_306645f5bb765d1b01fb8c2fc6aa3a4a = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_138b6d76fdde033d08f855c4e95ba1d0 = L.circleMarker(
                [55.698807, 37.63853],
                {"bubblingMouseEvents": true, "color": "#1e2a78", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1e2a78", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_306645f5bb765d1b01fb8c2fc6aa3a4a);
        
    
        var popup_1a5cdcc5e1ace3703236d3c328183c78 = L.popup({"maxWidth": 360});

        
            var html_10cb1a2e4d0bae0e6ff081c3401a56bd = $(`<div id="html_10cb1a2e4d0bae0e6ff081c3401a56bd" style="width: 100.0%; height: 100.0%;"><b>Фитнес</b><br>Оператор: Богданов Данила<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 691.43<br>Автоматов на локации: 1</div>`)[0];
            popup_1a5cdcc5e1ace3703236d3c328183c78.setContent(html_10cb1a2e4d0bae0e6ff081c3401a56bd);
        

        circle_marker_138b6d76fdde033d08f855c4e95ba1d0.bindPopup(popup_1a5cdcc5e1ace3703236d3c328183c78)
        ;

        
    
    
            circle_marker_138b6d76fdde033d08f855c4e95ba1d0.bindTooltip(
                `<div>
                     Фитнес
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_3b414383512d912fc30d4f89dcb1d731 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_d5eab026a153f5138553bfc17065cb5b = L.circleMarker(
                [55.758587, 37.661738],
                {"bubblingMouseEvents": true, "color": "#92dbbf", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#92dbbf", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_3b414383512d912fc30d4f89dcb1d731);
        
    
        var popup_748be6f2fd22e7e5acd1632afae255e2 = L.popup({"maxWidth": 360});

        
            var html_1131220116d0a6bc0c45b34d5593bd73 = $(`<div id="html_1131220116d0a6bc0c45b34d5593bd73" style="width: 100.0%; height: 100.0%;"><b>Курский</b><br>Оператор: Волков/Воробьев<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 73588.33<br>Автоматов на локации: 35</div>`)[0];
            popup_748be6f2fd22e7e5acd1632afae255e2.setContent(html_1131220116d0a6bc0c45b34d5593bd73);
        

        circle_marker_d5eab026a153f5138553bfc17065cb5b.bindPopup(popup_748be6f2fd22e7e5acd1632afae255e2)
        ;

        
    
    
            circle_marker_d5eab026a153f5138553bfc17065cb5b.bindTooltip(
                `<div>
                     Курский
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_79e1303b598fe0dba4b2ab0f5e1032ff = L.circleMarker(
                [55.731311, 37.637021],
                {"bubblingMouseEvents": true, "color": "#92dbbf", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#92dbbf", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_3b414383512d912fc30d4f89dcb1d731);
        
    
        var popup_a3e89a2a490639510b8afc95917864a9 = L.popup({"maxWidth": 360});

        
            var html_395b8e09991e8209e1dc66010e4187ab = $(`<div id="html_395b8e09991e8209e1dc66010e4187ab" style="width: 100.0%; height: 100.0%;"><b>Павелецкий</b><br>Оператор: Волков/Воробьев<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 33230.0<br>Автоматов на локации: 7</div>`)[0];
            popup_a3e89a2a490639510b8afc95917864a9.setContent(html_395b8e09991e8209e1dc66010e4187ab);
        

        circle_marker_79e1303b598fe0dba4b2ab0f5e1032ff.bindPopup(popup_a3e89a2a490639510b8afc95917864a9)
        ;

        
    
    
            circle_marker_79e1303b598fe0dba4b2ab0f5e1032ff.bindTooltip(
                `<div>
                     Павелецкий
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_8380633e7bd0b610772aa1fb0cb37564 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_579720b2dc1b8150ba38f7361932b5d9 = L.circleMarker(
                [55.83312, 37.383386],
                {"bubblingMouseEvents": true, "color": "#9ca4e6", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#9ca4e6", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_8380633e7bd0b610772aa1fb0cb37564);
        
    
        var popup_1114acd9dfe5ec3d8d6ba77b9c30f6e0 = L.popup({"maxWidth": 360});

        
            var html_de8095d388c8a682655b6c5c27d229df = $(`<div id="html_de8095d388c8a682655b6c5c27d229df" style="width: 100.0%; height: 100.0%;"><b>Волоколамская</b><br>Оператор: Зайцев Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 31638.6<br>Автоматов на локации: 13</div>`)[0];
            popup_1114acd9dfe5ec3d8d6ba77b9c30f6e0.setContent(html_de8095d388c8a682655b6c5c27d229df);
        

        circle_marker_579720b2dc1b8150ba38f7361932b5d9.bindPopup(popup_1114acd9dfe5ec3d8d6ba77b9c30f6e0)
        ;

        
    
    
            circle_marker_579720b2dc1b8150ba38f7361932b5d9.bindTooltip(
                `<div>
                     Волоколамская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_4f5202dbd156416dfe73a7db43411478 = L.circleMarker(
                [55.841709, 37.184903],
                {"bubblingMouseEvents": true, "color": "#9ca4e6", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#9ca4e6", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_8380633e7bd0b610772aa1fb0cb37564);
        
    
        var popup_96b76c96345c7bb6bb6989f741ee0c36 = L.popup({"maxWidth": 360});

        
            var html_733e19af90b96d7f438fdda43b9dfa67 = $(`<div id="html_733e19af90b96d7f438fdda43b9dfa67" style="width: 100.0%; height: 100.0%;"><b>Нахабино</b><br>Оператор: Зайцев Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 22908.2<br>Автоматов на локации: 18</div>`)[0];
            popup_96b76c96345c7bb6bb6989f741ee0c36.setContent(html_733e19af90b96d7f438fdda43b9dfa67);
        

        circle_marker_4f5202dbd156416dfe73a7db43411478.bindPopup(popup_96b76c96345c7bb6bb6989f741ee0c36)
        ;

        
    
    
            circle_marker_4f5202dbd156416dfe73a7db43411478.bindTooltip(
                `<div>
                     Нахабино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_b5f5a85ad8d0693209b6aa02ef8243bc = L.circleMarker(
                [55.823221, 37.247657],
                {"bubblingMouseEvents": true, "color": "#9ca4e6", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#9ca4e6", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_8380633e7bd0b610772aa1fb0cb37564);
        
    
        var popup_3268ab82ace94c5c72005e10f0427bf9 = L.popup({"maxWidth": 360});

        
            var html_9e0deddb5fcf6b58505b2f421a56851d = $(`<div id="html_9e0deddb5fcf6b58505b2f421a56851d" style="width: 100.0%; height: 100.0%;"><b>Опалиха</b><br>Оператор: Зайцев Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 17346.49<br>Автоматов на локации: 20</div>`)[0];
            popup_3268ab82ace94c5c72005e10f0427bf9.setContent(html_9e0deddb5fcf6b58505b2f421a56851d);
        

        circle_marker_b5f5a85ad8d0693209b6aa02ef8243bc.bindPopup(popup_3268ab82ace94c5c72005e10f0427bf9)
        ;

        
    
    
            circle_marker_b5f5a85ad8d0693209b6aa02ef8243bc.bindTooltip(
                `<div>
                     Опалиха
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_61b8547c0810c30df913aabe5cef2bc2 = L.circleMarker(
                [55.821892, 37.361113],
                {"bubblingMouseEvents": true, "color": "#9ca4e6", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#9ca4e6", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_8380633e7bd0b610772aa1fb0cb37564);
        
    
        var popup_039cd67eb5508f1895c0ef3cac359605 = L.popup({"maxWidth": 360});

        
            var html_619312f16d093a4da3c5adf8b9383070 = $(`<div id="html_619312f16d093a4da3c5adf8b9383070" style="width: 100.0%; height: 100.0%;"><b>Пенягино</b><br>Оператор: Зайцев Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 11710.24<br>Автоматов на локации: 8</div>`)[0];
            popup_039cd67eb5508f1895c0ef3cac359605.setContent(html_619312f16d093a4da3c5adf8b9383070);
        

        circle_marker_61b8547c0810c30df913aabe5cef2bc2.bindPopup(popup_039cd67eb5508f1895c0ef3cac359605)
        ;

        
    
    
            circle_marker_61b8547c0810c30df913aabe5cef2bc2.bindTooltip(
                `<div>
                     Пенягино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_cd492c3773b648b8f239c9a9fe3bbf75 = L.circleMarker(
                [55.810901, 37.460824],
                {"bubblingMouseEvents": true, "color": "#9ca4e6", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#9ca4e6", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_8380633e7bd0b610772aa1fb0cb37564);
        
    
        var popup_07e58f62bdaf5f6970d4a381081de908 = L.popup({"maxWidth": 360});

        
            var html_fcf8e72f1d34e85d2d05e37ad920df7c = $(`<div id="html_fcf8e72f1d34e85d2d05e37ad920df7c" style="width: 100.0%; height: 100.0%;"><b>Щукинская</b><br>Оператор: Зайцев Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 24898.48<br>Автоматов на локации: 17</div>`)[0];
            popup_07e58f62bdaf5f6970d4a381081de908.setContent(html_fcf8e72f1d34e85d2d05e37ad920df7c);
        

        circle_marker_cd492c3773b648b8f239c9a9fe3bbf75.bindPopup(popup_07e58f62bdaf5f6970d4a381081de908)
        ;

        
    
    
            circle_marker_cd492c3773b648b8f239c9a9fe3bbf75.bindTooltip(
                `<div>
                     Щукинская
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_02a76ebcabf632297a9efb51ab14cb0f = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_801a71a626928d3212269527a117208c = L.circleMarker(
                [55.579446, 36.818664],
                {"bubblingMouseEvents": true, "color": "#59b295", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#59b295", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_02a76ebcabf632297a9efb51ab14cb0f);
        
    
        var popup_3dc2f2b34af33e202a0fd542e7801fa8 = L.popup({"maxWidth": 360});

        
            var html_00f949e36f997fd7cfbbfd888ad96f1a = $(`<div id="html_00f949e36f997fd7cfbbfd888ad96f1a" style="width: 100.0%; height: 100.0%;"><b>Патриот</b><br>Оператор: Замолотнев Владислав<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 35265.91<br>Автоматов на локации: 10</div>`)[0];
            popup_3dc2f2b34af33e202a0fd542e7801fa8.setContent(html_00f949e36f997fd7cfbbfd888ad96f1a);
        

        circle_marker_801a71a626928d3212269527a117208c.bindPopup(popup_3dc2f2b34af33e202a0fd542e7801fa8)
        ;

        
    
    
            circle_marker_801a71a626928d3212269527a117208c.bindTooltip(
                `<div>
                     Патриот
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_2188822284e0a7c10a7254cb13f7de73 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_79ec35849c0791bd64deee706fb29ff4 = L.circleMarker(
                [55.870258, 37.508936],
                {"bubblingMouseEvents": true, "color": "#82cb69", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#82cb69", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2188822284e0a7c10a7254cb13f7de73);
        
    
        var popup_ecfd70acff87e4c842e9c73d8e581f86 = L.popup({"maxWidth": 360});

        
            var html_551a56f8d772e2dd73a770c991f7552d = $(`<div id="html_551a56f8d772e2dd73a770c991f7552d" style="width: 100.0%; height: 100.0%;"><b>Грачевская</b><br>Оператор: Измаилов Джабраил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 4773.57<br>Автоматов на локации: 2</div>`)[0];
            popup_ecfd70acff87e4c842e9c73d8e581f86.setContent(html_551a56f8d772e2dd73a770c991f7552d);
        

        circle_marker_79ec35849c0791bd64deee706fb29ff4.bindPopup(popup_ecfd70acff87e4c842e9c73d8e581f86)
        ;

        
    
    
            circle_marker_79ec35849c0791bd64deee706fb29ff4.bindTooltip(
                `<div>
                     Грачевская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_6a72b991d1ad456ef3dbe04cfe7ee924 = L.circleMarker(
                [55.801163, 37.619416],
                {"bubblingMouseEvents": true, "color": "#82cb69", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#82cb69", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2188822284e0a7c10a7254cb13f7de73);
        
    
        var popup_ec0c2c52dcace23cfce9ddfbeb6b4219 = L.popup({"maxWidth": 360});

        
            var html_163df344e0c9624a9087ecf1100599c5 = $(`<div id="html_163df344e0c9624a9087ecf1100599c5" style="width: 100.0%; height: 100.0%;"><b>Марьина</b><br>Оператор: Измаилов Джабраил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 25731.82<br>Автоматов на локации: 10</div>`)[0];
            popup_ec0c2c52dcace23cfce9ddfbeb6b4219.setContent(html_163df344e0c9624a9087ecf1100599c5);
        

        circle_marker_6a72b991d1ad456ef3dbe04cfe7ee924.bindPopup(popup_ec0c2c52dcace23cfce9ddfbeb6b4219)
        ;

        
    
    
            circle_marker_6a72b991d1ad456ef3dbe04cfe7ee924.bindTooltip(
                `<div>
                     Марьина
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_40db0ab597c2fd025b82a884c24d41bb = L.circleMarker(
                [55.815323, 37.487297],
                {"bubblingMouseEvents": true, "color": "#82cb69", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#82cb69", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2188822284e0a7c10a7254cb13f7de73);
        
    
        var popup_0880f34270983e196243bfc59869052d = L.popup({"maxWidth": 360});

        
            var html_518d634e14fceddfdea33133d4762aa1 = $(`<div id="html_518d634e14fceddfdea33133d4762aa1" style="width: 100.0%; height: 100.0%;"><b>Стрешнево</b><br>Оператор: Измаилов Джабраил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 34930.52<br>Автоматов на локации: 20</div>`)[0];
            popup_0880f34270983e196243bfc59869052d.setContent(html_518d634e14fceddfdea33133d4762aa1);
        

        circle_marker_40db0ab597c2fd025b82a884c24d41bb.bindPopup(popup_0880f34270983e196243bfc59869052d)
        ;

        
    
    
            circle_marker_40db0ab597c2fd025b82a884c24d41bb.bindTooltip(
                `<div>
                     Стрешнево
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_603020f7853c6e523bd8374d5add5ca0 = L.circleMarker(
                [55.8198, 37.5763],
                {"bubblingMouseEvents": true, "color": "#82cb69", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#82cb69", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2188822284e0a7c10a7254cb13f7de73);
        
    
        var popup_fd2ba4d65b40da4539e56a1244e48e9c = L.popup({"maxWidth": 360});

        
            var html_2abd7f5f257cccd72124bdf2dd5f3ff7 = $(`<div id="html_2abd7f5f257cccd72124bdf2dd5f3ff7" style="width: 100.0%; height: 100.0%;"><b>Тимирязевская</b><br>Оператор: Измаилов Джабраил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 19760.63<br>Автоматов на локации: 11</div>`)[0];
            popup_fd2ba4d65b40da4539e56a1244e48e9c.setContent(html_2abd7f5f257cccd72124bdf2dd5f3ff7);
        

        circle_marker_603020f7853c6e523bd8374d5add5ca0.bindPopup(popup_fd2ba4d65b40da4539e56a1244e48e9c)
        ;

        
    
    
            circle_marker_603020f7853c6e523bd8374d5add5ca0.bindTooltip(
                `<div>
                     Тимирязевская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_749f4f4b6439818203d3fe230e28150e = L.circleMarker(
                [55.894521, 37.45205],
                {"bubblingMouseEvents": true, "color": "#82cb69", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#82cb69", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2188822284e0a7c10a7254cb13f7de73);
        
    
        var popup_3102d6b9825e9b842120b2910e93f67d = L.popup({"maxWidth": 360});

        
            var html_178ca59739af161b82ca006f14a5d1ed = $(`<div id="html_178ca59739af161b82ca006f14a5d1ed" style="width: 100.0%; height: 100.0%;"><b>Химки</b><br>Оператор: Измаилов Джабраил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 5618.0<br>Автоматов на локации: 4</div>`)[0];
            popup_3102d6b9825e9b842120b2910e93f67d.setContent(html_178ca59739af161b82ca006f14a5d1ed);
        

        circle_marker_749f4f4b6439818203d3fe230e28150e.bindPopup(popup_3102d6b9825e9b842120b2910e93f67d)
        ;

        
    
    
            circle_marker_749f4f4b6439818203d3fe230e28150e.bindTooltip(
                `<div>
                     Химки
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_ecbbbd2dc1cce83e03e3f61c1504b56b = L.circleMarker(
                [55.880187, 37.485692],
                {"bubblingMouseEvents": true, "color": "#82cb69", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#82cb69", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2188822284e0a7c10a7254cb13f7de73);
        
    
        var popup_6a5955e4da48732e25321798d3bcb446 = L.popup({"maxWidth": 360});

        
            var html_ac188a37245523aaf7dc1540cf842f90 = $(`<div id="html_ac188a37245523aaf7dc1540cf842f90" style="width: 100.0%; height: 100.0%;"><b>Ховрино</b><br>Оператор: Измаилов Джабраил<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 6852.8<br>Автоматов на локации: 2</div>`)[0];
            popup_6a5955e4da48732e25321798d3bcb446.setContent(html_ac188a37245523aaf7dc1540cf842f90);
        

        circle_marker_ecbbbd2dc1cce83e03e3f61c1504b56b.bindPopup(popup_6a5955e4da48732e25321798d3bcb446)
        ;

        
    
    
            circle_marker_ecbbbd2dc1cce83e03e3f61c1504b56b.bindTooltip(
                `<div>
                     Ховрино
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_994ae5dd0c47d35b6c9eb965fb956007 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_1c613202babac1ce19dff3a9ed5fe072 = L.circleMarker(
                [56.0097, 37.2005],
                {"bubblingMouseEvents": true, "color": "#63b78f", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#63b78f", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_994ae5dd0c47d35b6c9eb965fb956007);
        
    
        var popup_7a9ce8282e016585e4be2bfa96ce01e2 = L.popup({"maxWidth": 360});

        
            var html_af95c0efdc1828d86181ee84ec90e6ad = $(`<div id="html_af95c0efdc1828d86181ee84ec90e6ad" style="width: 100.0%; height: 100.0%;"><b>Крюково</b><br>Оператор: Кормщиков Максим<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 57167.2<br>Автоматов на локации: 22</div>`)[0];
            popup_7a9ce8282e016585e4be2bfa96ce01e2.setContent(html_af95c0efdc1828d86181ee84ec90e6ad);
        

        circle_marker_1c613202babac1ce19dff3a9ed5fe072.bindPopup(popup_7a9ce8282e016585e4be2bfa96ce01e2)
        ;

        
    
    
            circle_marker_1c613202babac1ce19dff3a9ed5fe072.bindTooltip(
                `<div>
                     Крюково
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_a6a28337a76cf945d1a3d02a78a245ec = L.circleMarker(
                [56.1833, 36.9832],
                {"bubblingMouseEvents": true, "color": "#63b78f", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#63b78f", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_994ae5dd0c47d35b6c9eb965fb956007);
        
    
        var popup_d8dfdb8e6d0a4f94da138ae03b9b1f73 = L.popup({"maxWidth": 360});

        
            var html_127e1720e02c14287c430aca370017c8 = $(`<div id="html_127e1720e02c14287c430aca370017c8" style="width: 100.0%; height: 100.0%;"><b>Подсолнечная</b><br>Оператор: Кормщиков Максим<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 5837.86<br>Автоматов на локации: 2</div>`)[0];
            popup_d8dfdb8e6d0a4f94da138ae03b9b1f73.setContent(html_127e1720e02c14287c430aca370017c8);
        

        circle_marker_a6a28337a76cf945d1a3d02a78a245ec.bindPopup(popup_d8dfdb8e6d0a4f94da138ae03b9b1f73)
        ;

        
    
    
            circle_marker_a6a28337a76cf945d1a3d02a78a245ec.bindTooltip(
                `<div>
                     Подсолнечная
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_be6efe8a135fa082e24c50474ad62eb2 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_3bc08e34fab3466dcd7f696759a7dc86 = L.circleMarker(
                [55.752169, 38.030534],
                {"bubblingMouseEvents": true, "color": "#b2e05d", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#b2e05d", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_be6efe8a135fa082e24c50474ad62eb2);
        
    
        var popup_4cb5cd7e488ebd017f0f37fc6e279d64 = L.popup({"maxWidth": 360});

        
            var html_5b90203e490d2f4a0a213c4eb8f848b4 = $(`<div id="html_5b90203e490d2f4a0a213c4eb8f848b4" style="width: 100.0%; height: 100.0%;"><b>Балашиха</b><br>Оператор: Кумачев Сергей.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 2167.86<br>Автоматов на локации: 2</div>`)[0];
            popup_4cb5cd7e488ebd017f0f37fc6e279d64.setContent(html_5b90203e490d2f4a0a213c4eb8f848b4);
        

        circle_marker_3bc08e34fab3466dcd7f696759a7dc86.bindPopup(popup_4cb5cd7e488ebd017f0f37fc6e279d64)
        ;

        
    
    
            circle_marker_3bc08e34fab3466dcd7f696759a7dc86.bindTooltip(
                `<div>
                     Балашиха
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_1b4df8a18df99d9d9c745096630415f4 = L.circleMarker(
                [55.751978, 38.008404],
                {"bubblingMouseEvents": true, "color": "#b2e05d", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#b2e05d", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_be6efe8a135fa082e24c50474ad62eb2);
        
    
        var popup_c12f5167fbc588c1963ecc30b3ea53f4 = L.popup({"maxWidth": 360});

        
            var html_c23ed53dc40c03471dd59c261765cc51 = $(`<div id="html_c23ed53dc40c03471dd59c261765cc51" style="width: 100.0%; height: 100.0%;"><b>Железнодорожный</b><br>Оператор: Кумачев Сергей.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 36326.87<br>Автоматов на локации: 16</div>`)[0];
            popup_c12f5167fbc588c1963ecc30b3ea53f4.setContent(html_c23ed53dc40c03471dd59c261765cc51);
        

        circle_marker_1b4df8a18df99d9d9c745096630415f4.bindPopup(popup_c12f5167fbc588c1963ecc30b3ea53f4)
        ;

        
    
    
            circle_marker_1b4df8a18df99d9d9c745096630415f4.bindTooltip(
                `<div>
                     Железнодорожный
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_f03f7b44b8f9c5150838c984572c8f84 = L.circleMarker(
                [55.7324, 37.7284],
                {"bubblingMouseEvents": true, "color": "#b2e05d", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#b2e05d", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_be6efe8a135fa082e24c50474ad62eb2);
        
    
        var popup_1cfa7795172e3e7cb9c6dd395dbb0bd1 = L.popup({"maxWidth": 360});

        
            var html_2301aab3c946b77a50f0d8e0ef0a777e = $(`<div id="html_2301aab3c946b77a50f0d8e0ef0a777e" style="width: 100.0%; height: 100.0%;"><b>Нижегородская</b><br>Оператор: Кумачев Сергей.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 42095.79<br>Автоматов на локации: 15</div>`)[0];
            popup_1cfa7795172e3e7cb9c6dd395dbb0bd1.setContent(html_2301aab3c946b77a50f0d8e0ef0a777e);
        

        circle_marker_f03f7b44b8f9c5150838c984572c8f84.bindPopup(popup_1cfa7795172e3e7cb9c6dd395dbb0bd1)
        ;

        
    
    
            circle_marker_f03f7b44b8f9c5150838c984572c8f84.bindTooltip(
                `<div>
                     Нижегородская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_f53f7818f9591d75b5992a6758228578 = L.circleMarker(
                [55.744429, 37.81843],
                {"bubblingMouseEvents": true, "color": "#b2e05d", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#b2e05d", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_be6efe8a135fa082e24c50474ad62eb2);
        
    
        var popup_3fdba9db93df45c33ae815240497d136 = L.popup({"maxWidth": 360});

        
            var html_2a374f8980181fc04850b2b093d0606a = $(`<div id="html_2a374f8980181fc04850b2b093d0606a" style="width: 100.0%; height: 100.0%;"><b>Новогиреево</b><br>Оператор: Кумачев Сергей.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 7823.62<br>Автоматов на локации: 7</div>`)[0];
            popup_3fdba9db93df45c33ae815240497d136.setContent(html_2a374f8980181fc04850b2b093d0606a);
        

        circle_marker_f53f7818f9591d75b5992a6758228578.bindPopup(popup_3fdba9db93df45c33ae815240497d136)
        ;

        
    
    
            circle_marker_f53f7818f9591d75b5992a6758228578.bindTooltip(
                `<div>
                     Новогиреево
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_7497a79db24f9bf32f269c063c93377d = L.circleMarker(
                [55.72395, 37.714895],
                {"bubblingMouseEvents": true, "color": "#b2e05d", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#b2e05d", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_be6efe8a135fa082e24c50474ad62eb2);
        
    
        var popup_4d3039ead066ccbc6f439ad590743e8b = L.popup({"maxWidth": 360});

        
            var html_40172af912f7dc8d0d12a39815b31d97 = $(`<div id="html_40172af912f7dc8d0d12a39815b31d97" style="width: 100.0%; height: 100.0%;"><b>Новохохловская</b><br>Оператор: Кумачев Сергей.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 7914.64<br>Автоматов на локации: 5</div>`)[0];
            popup_4d3039ead066ccbc6f439ad590743e8b.setContent(html_40172af912f7dc8d0d12a39815b31d97);
        

        circle_marker_7497a79db24f9bf32f269c063c93377d.bindPopup(popup_4d3039ead066ccbc6f439ad590743e8b)
        ;

        
    
    
            circle_marker_7497a79db24f9bf32f269c063c93377d.bindTooltip(
                `<div>
                     Новохохловская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_49617cc203aea9f8dd475e3eefaae93a = L.circleMarker(
                [55.751605, 37.978611],
                {"bubblingMouseEvents": true, "color": "#b2e05d", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#b2e05d", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_be6efe8a135fa082e24c50474ad62eb2);
        
    
        var popup_72962801d71714bf779fd929b8b25d6a = L.popup({"maxWidth": 360});

        
            var html_40232853d157edbee7269074ff522c41 = $(`<div id="html_40232853d157edbee7269074ff522c41" style="width: 100.0%; height: 100.0%;"><b>Ольгино</b><br>Оператор: Кумачев Сергей.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 16749.51<br>Автоматов на локации: 11</div>`)[0];
            popup_72962801d71714bf779fd929b8b25d6a.setContent(html_40232853d157edbee7269074ff522c41);
        

        circle_marker_49617cc203aea9f8dd475e3eefaae93a.bindPopup(popup_72962801d71714bf779fd929b8b25d6a)
        ;

        
    
    
            circle_marker_49617cc203aea9f8dd475e3eefaae93a.bindTooltip(
                `<div>
                     Ольгино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_fcedbfd5c0d3265d867c299da8881940 = L.circleMarker(
                [55.7516, 37.855816],
                {"bubblingMouseEvents": true, "color": "#b2e05d", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#b2e05d", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_be6efe8a135fa082e24c50474ad62eb2);
        
    
        var popup_15338580cdeab2f66203973095b183e6 = L.popup({"maxWidth": 360});

        
            var html_2bfaef9a9174e00041498641cafe530b = $(`<div id="html_2bfaef9a9174e00041498641cafe530b" style="width: 100.0%; height: 100.0%;"><b>Реутов</b><br>Оператор: Кумачев Сергей.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 3822.75<br>Автоматов на локации: 3</div>`)[0];
            popup_15338580cdeab2f66203973095b183e6.setContent(html_2bfaef9a9174e00041498641cafe530b);
        

        circle_marker_fcedbfd5c0d3265d867c299da8881940.bindPopup(popup_15338580cdeab2f66203973095b183e6)
        ;

        
    
    
            circle_marker_fcedbfd5c0d3265d867c299da8881940.bindTooltip(
                `<div>
                     Реутов
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_258068919c348d36bd6627519f25dcb2 = L.circleMarker(
                [55.550465, 37.066978],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_e17a711d3957d0f19d53bd0dd53de0c8 = L.popup({"maxWidth": 360});

        
            var html_6e037d68bfb0b1652a4622d6e4ae2155 = $(`<div id="html_6e037d68bfb0b1652a4622d6e4ae2155" style="width: 100.0%; height: 100.0%;"><b>Апрелевка</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 27625.92<br>Автоматов на локации: 18</div>`)[0];
            popup_e17a711d3957d0f19d53bd0dd53de0c8.setContent(html_6e037d68bfb0b1652a4622d6e4ae2155);
        

        circle_marker_258068919c348d36bd6627519f25dcb2.bindPopup(popup_e17a711d3957d0f19d53bd0dd53de0c8)
        ;

        
    
    
            circle_marker_258068919c348d36bd6627519f25dcb2.bindTooltip(
                `<div>
                     Апрелевка
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_d21ac545f6a1ffe236d85b2f82125919 = L.circleMarker(
                [55.648889, 37.269722],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_60b378bcce2162869e595352c2bea818 = L.popup({"maxWidth": 360});

        
            var html_5b7d17b334bc7777cc2139f8d9e28756 = $(`<div id="html_5b7d17b334bc7777cc2139f8d9e28756" style="width: 100.0%; height: 100.0%;"><b>Внуково</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 13280.95<br>Автоматов на локации: 9</div>`)[0];
            popup_60b378bcce2162869e595352c2bea818.setContent(html_5b7d17b334bc7777cc2139f8d9e28756);
        

        circle_marker_d21ac545f6a1ffe236d85b2f82125919.bindPopup(popup_60b378bcce2162869e595352c2bea818)
        ;

        
    
    
            circle_marker_d21ac545f6a1ffe236d85b2f82125919.bindTooltip(
                `<div>
                     Внуково
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_1442de014f7458bacd1e458ff896962a = L.circleMarker(
                [55.598772, 37.169431],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_19476adb2ff1a7560fbe4160e270a7a0 = L.popup({"maxWidth": 360});

        
            var html_4c0a32111814dea78ab540d96724b0b4 = $(`<div id="html_4c0a32111814dea78ab540d96724b0b4" style="width: 100.0%; height: 100.0%;"><b>Кокошкино</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 5677.98<br>Автоматов на локации: 5</div>`)[0];
            popup_19476adb2ff1a7560fbe4160e270a7a0.setContent(html_4c0a32111814dea78ab540d96724b0b4);
        

        circle_marker_1442de014f7458bacd1e458ff896962a.bindPopup(popup_19476adb2ff1a7560fbe4160e270a7a0)
        ;

        
    
    
            circle_marker_1442de014f7458bacd1e458ff896962a.bindTooltip(
                `<div>
                     Кокошкино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_bf91f17656b36cc4e4e5e891af3f48d7 = L.circleMarker(
                [55.578244, 37.109903],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_3ed3a242a5a3e67e5b5d15ce3c9bbfc1 = L.popup({"maxWidth": 360});

        
            var html_ae4d2955acd320996af6e79c7aeb2132 = $(`<div id="html_ae4d2955acd320996af6e79c7aeb2132" style="width: 100.0%; height: 100.0%;"><b>Крекшино</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 3558.76<br>Автоматов на локации: 4</div>`)[0];
            popup_3ed3a242a5a3e67e5b5d15ce3c9bbfc1.setContent(html_ae4d2955acd320996af6e79c7aeb2132);
        

        circle_marker_bf91f17656b36cc4e4e5e891af3f48d7.bindPopup(popup_3ed3a242a5a3e67e5b5d15ce3c9bbfc1)
        ;

        
    
    
            circle_marker_bf91f17656b36cc4e4e5e891af3f48d7.bindTooltip(
                `<div>
                     Крекшино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_08523afa58761829c854d4cd66e24a32 = L.circleMarker(
                [55.631649, 37.218144],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_b428101e18dd6fd5e079597f95dc6bd0 = L.popup({"maxWidth": 360});

        
            var html_e11c9fdc46f050090b0e23063a149e6b = $(`<div id="html_e11c9fdc46f050090b0e23063a149e6b" style="width: 100.0%; height: 100.0%;"><b>Лесной</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 15154.62<br>Автоматов на локации: 9</div>`)[0];
            popup_b428101e18dd6fd5e079597f95dc6bd0.setContent(html_e11c9fdc46f050090b0e23063a149e6b);
        

        circle_marker_08523afa58761829c854d4cd66e24a32.bindPopup(popup_b428101e18dd6fd5e079597f95dc6bd0)
        ;

        
    
    
            circle_marker_08523afa58761829c854d4cd66e24a32.bindTooltip(
                `<div>
                     Лесной
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_53ab07b7d8ce2efd00813d3af443a924 = L.circleMarker(
                [55.645762, 37.316018],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_93ce69f8fbb0b5fac5ef6bb03164f923 = L.popup({"maxWidth": 360});

        
            var html_0756df7152a9497b1e6f16fd50193395 = $(`<div id="html_0756df7152a9497b1e6f16fd50193395" style="width: 100.0%; height: 100.0%;"><b>Мичуринец</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 10039.52<br>Автоматов на локации: 9</div>`)[0];
            popup_93ce69f8fbb0b5fac5ef6bb03164f923.setContent(html_0756df7152a9497b1e6f16fd50193395);
        

        circle_marker_53ab07b7d8ce2efd00813d3af443a924.bindPopup(popup_93ce69f8fbb0b5fac5ef6bb03164f923)
        ;

        
    
    
            circle_marker_53ab07b7d8ce2efd00813d3af443a924.bindTooltip(
                `<div>
                     Мичуринец
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_394f5fcc56ad908e76c6870d914a3cbd = L.circleMarker(
                [55.656039, 37.354632],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_0f982cfc4428f344df895bfff21d2cc5 = L.popup({"maxWidth": 360});

        
            var html_a460469894771ac3bddaf27782d498cb = $(`<div id="html_a460469894771ac3bddaf27782d498cb" style="width: 100.0%; height: 100.0%;"><b>Переделкино</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 23634.45<br>Автоматов на локации: 13</div>`)[0];
            popup_0f982cfc4428f344df895bfff21d2cc5.setContent(html_a460469894771ac3bddaf27782d498cb);
        

        circle_marker_394f5fcc56ad908e76c6870d914a3cbd.bindPopup(popup_0f982cfc4428f344df895bfff21d2cc5)
        ;

        
    
    
            circle_marker_394f5fcc56ad908e76c6870d914a3cbd.bindTooltip(
                `<div>
                     Переделкино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_a4d66f2e2aba1253f350ff28bd75ba36 = L.circleMarker(
                [55.584754, 37.141833],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_16d2ef9bb8dfe66ddf51d3032f8634ac = L.popup({"maxWidth": 360});

        
            var html_ad19c36308850c2f1197068d22a9ad89 = $(`<div id="html_ad19c36308850c2f1197068d22a9ad89" style="width: 100.0%; height: 100.0%;"><b>Победа</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 3044.29<br>Автоматов на локации: 3</div>`)[0];
            popup_16d2ef9bb8dfe66ddf51d3032f8634ac.setContent(html_ad19c36308850c2f1197068d22a9ad89);
        

        circle_marker_a4d66f2e2aba1253f350ff28bd75ba36.bindPopup(popup_16d2ef9bb8dfe66ddf51d3032f8634ac)
        ;

        
    
    
            circle_marker_a4d66f2e2aba1253f350ff28bd75ba36.bindTooltip(
                `<div>
                     Победа
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_16677188aef6ee55bbd39d1af14e672c = L.circleMarker(
                [55.584734, 37.141813],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_0e665544352f2409537c0ed69672eb54 = L.popup({"maxWidth": 360});

        
            var html_2e0eca8cac9b1d948298e915e319b214 = $(`<div id="html_2e0eca8cac9b1d948298e915e319b214" style="width: 100.0%; height: 100.0%;"><b>Санино</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 2650.71<br>Автоматов на локации: 2</div>`)[0];
            popup_0e665544352f2409537c0ed69672eb54.setContent(html_2e0eca8cac9b1d948298e915e319b214);
        

        circle_marker_16677188aef6ee55bbd39d1af14e672c.bindPopup(popup_0e665544352f2409537c0ed69672eb54)
        ;

        
    
    
            circle_marker_16677188aef6ee55bbd39d1af14e672c.bindTooltip(
                `<div>
                     Санино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_0c40623c4f519672ade42cdf37cbb341 = L.circleMarker(
                [55.607439, 37.185031],
                {"bubblingMouseEvents": true, "color": "#7ca8d9", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#7ca8d9", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b);
        
    
        var popup_553d6b5a973d3878e9ab0c02037159c0 = L.popup({"maxWidth": 360});

        
            var html_e773c04fe3f301897719b4d2cf1bed2b = $(`<div id="html_e773c04fe3f301897719b4d2cf1bed2b" style="width: 100.0%; height: 100.0%;"><b>Толстопальцево</b><br>Оператор: Максимов Дмитрий<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 2992.31<br>Автоматов на локации: 3</div>`)[0];
            popup_553d6b5a973d3878e9ab0c02037159c0.setContent(html_e773c04fe3f301897719b4d2cf1bed2b);
        

        circle_marker_0c40623c4f519672ade42cdf37cbb341.bindPopup(popup_553d6b5a973d3878e9ab0c02037159c0)
        ;

        
    
    
            circle_marker_0c40623c4f519672ade42cdf37cbb341.bindTooltip(
                `<div>
                     Толстопальцево
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_5e61fd507c7cba7a50e45863c1f1dd4e = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_e2c667a101a42c9bb51ef5122a716543 = L.circleMarker(
                [55.775493, 37.65187],
                {"bubblingMouseEvents": true, "color": "#a2b059", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#a2b059", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_5e61fd507c7cba7a50e45863c1f1dd4e);
        
    
        var popup_2af4c9da20cd1f0029322a650c5003d6 = L.popup({"maxWidth": 360});

        
            var html_30dad900c68466326008e1f240517f5b = $(`<div id="html_30dad900c68466326008e1f240517f5b" style="width: 100.0%; height: 100.0%;"><b>Каланчевская</b><br>Оператор: Назарян Ваник.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 120119.6<br>Автоматов на локации: 24</div>`)[0];
            popup_2af4c9da20cd1f0029322a650c5003d6.setContent(html_30dad900c68466326008e1f240517f5b);
        

        circle_marker_e2c667a101a42c9bb51ef5122a716543.bindPopup(popup_2af4c9da20cd1f0029322a650c5003d6)
        ;

        
    
    
            circle_marker_e2c667a101a42c9bb51ef5122a716543.bindTooltip(
                `<div>
                     Каланчевская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_01fbdb1c8c750a98b71ba82487873caf = L.circleMarker(
                [55.77635, 37.655833],
                {"bubblingMouseEvents": true, "color": "#a2b059", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#a2b059", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_5e61fd507c7cba7a50e45863c1f1dd4e);
        
    
        var popup_43dc5748103686266f2c972cc6c91ece = L.popup({"maxWidth": 360});

        
            var html_37bd6f184026ad38e7a7ef333c3fa306 = $(`<div id="html_37bd6f184026ad38e7a7ef333c3fa306" style="width: 100.0%; height: 100.0%;"><b>Ярославский</b><br>Оператор: Назарян Ваник.<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 90982.89<br>Автоматов на локации: 25</div>`)[0];
            popup_43dc5748103686266f2c972cc6c91ece.setContent(html_37bd6f184026ad38e7a7ef333c3fa306);
        

        circle_marker_01fbdb1c8c750a98b71ba82487873caf.bindPopup(popup_43dc5748103686266f2c972cc6c91ece)
        ;

        
    
    
            circle_marker_01fbdb1c8c750a98b71ba82487873caf.bindTooltip(
                `<div>
                     Ярославский
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_671b121e0d58d1f728cd48b0ee357bea = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_67f8a1d27f3fb22f86967a8a37204b9a = L.circleMarker(
                [55.696667, 37.468056],
                {"bubblingMouseEvents": true, "color": "#606fab", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#606fab", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_671b121e0d58d1f728cd48b0ee357bea);
        
    
        var popup_6e3dbbfffb4d0c4d9b30778c6d7b8a17 = L.popup({"maxWidth": 360});

        
            var html_33fd4e601208bd069ccb72906866f9d7 = $(`<div id="html_33fd4e601208bd069ccb72906866f9d7" style="width: 100.0%; height: 100.0%;"><b>Аминьевская</b><br>Оператор: Намаконов Олег<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 57504.87<br>Автоматов на локации: 17</div>`)[0];
            popup_6e3dbbfffb4d0c4d9b30778c6d7b8a17.setContent(html_33fd4e601208bd069ccb72906866f9d7);
        

        circle_marker_67f8a1d27f3fb22f86967a8a37204b9a.bindPopup(popup_6e3dbbfffb4d0c4d9b30778c6d7b8a17)
        ;

        
    
    
            circle_marker_67f8a1d27f3fb22f86967a8a37204b9a.bindTooltip(
                `<div>
                     Аминьевская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_42e8850c9a15d53fef84bab1cb27fe12 = L.circleMarker(
                [55.704843, 37.481743],
                {"bubblingMouseEvents": true, "color": "#606fab", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#606fab", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_671b121e0d58d1f728cd48b0ee357bea);
        
    
        var popup_96f2abddc47feb99aa85de165c002ea1 = L.popup({"maxWidth": 360});

        
            var html_aed9fde586a1a8f0308465766ff5ea69 = $(`<div id="html_aed9fde586a1a8f0308465766ff5ea69" style="width: 100.0%; height: 100.0%;"><b>Матвеевская</b><br>Оператор: Намаконов Олег<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 3964.05<br>Автоматов на локации: 4</div>`)[0];
            popup_96f2abddc47feb99aa85de165c002ea1.setContent(html_aed9fde586a1a8f0308465766ff5ea69);
        

        circle_marker_42e8850c9a15d53fef84bab1cb27fe12.bindPopup(popup_96f2abddc47feb99aa85de165c002ea1)
        ;

        
    
    
            circle_marker_42e8850c9a15d53fef84bab1cb27fe12.bindTooltip(
                `<div>
                     Матвеевская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_078211649f862eec53783eaaadab3af9 = L.circleMarker(
                [55.666667, 37.424444],
                {"bubblingMouseEvents": true, "color": "#606fab", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#606fab", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_671b121e0d58d1f728cd48b0ee357bea);
        
    
        var popup_82badc7c00ac1399f0bb326dc615ca51 = L.popup({"maxWidth": 360});

        
            var html_3772cb9c9b055cd6deb1dcd1d0a4b1a9 = $(`<div id="html_3772cb9c9b055cd6deb1dcd1d0a4b1a9" style="width: 100.0%; height: 100.0%;"><b>Мещерская</b><br>Оператор: Намаконов Олег<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 4610.81<br>Автоматов на локации: 3</div>`)[0];
            popup_82badc7c00ac1399f0bb326dc615ca51.setContent(html_3772cb9c9b055cd6deb1dcd1d0a4b1a9);
        

        circle_marker_078211649f862eec53783eaaadab3af9.bindPopup(popup_82badc7c00ac1399f0bb326dc615ca51)
        ;

        
    
    
            circle_marker_078211649f862eec53783eaaadab3af9.bindTooltip(
                `<div>
                     Мещерская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_ad3c8af2e35331ccd25094e29d197b74 = L.circleMarker(
                [55.723145, 37.499152],
                {"bubblingMouseEvents": true, "color": "#606fab", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#606fab", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_671b121e0d58d1f728cd48b0ee357bea);
        
    
        var popup_0b177d7910eba31a9140bedf0d2b08f6 = L.popup({"maxWidth": 360});

        
            var html_21d866a9804a8224658c29c9313481fb = $(`<div id="html_21d866a9804a8224658c29c9313481fb" style="width: 100.0%; height: 100.0%;"><b>Минская</b><br>Оператор: Намаконов Олег<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 12226.67<br>Автоматов на локации: 7</div>`)[0];
            popup_0b177d7910eba31a9140bedf0d2b08f6.setContent(html_21d866a9804a8224658c29c9313481fb);
        

        circle_marker_ad3c8af2e35331ccd25094e29d197b74.bindPopup(popup_0b177d7910eba31a9140bedf0d2b08f6)
        ;

        
    
    
            circle_marker_ad3c8af2e35331ccd25094e29d197b74.bindTooltip(
                `<div>
                     Минская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_7a0905c4215f4d1c0f5e887ccfc6140c = L.circleMarker(
                [55.683114, 37.450363],
                {"bubblingMouseEvents": true, "color": "#606fab", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#606fab", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_671b121e0d58d1f728cd48b0ee357bea);
        
    
        var popup_7b561c0073b69f92f3cc840e7ea8d9dd = L.popup({"maxWidth": 360});

        
            var html_964a895530144602f8bb7369aa2e683c = $(`<div id="html_964a895530144602f8bb7369aa2e683c" style="width: 100.0%; height: 100.0%;"><b>Очаково</b><br>Оператор: Намаконов Олег<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 7591.9<br>Автоматов на локации: 5</div>`)[0];
            popup_7b561c0073b69f92f3cc840e7ea8d9dd.setContent(html_964a895530144602f8bb7369aa2e683c);
        

        circle_marker_7a0905c4215f4d1c0f5e887ccfc6140c.bindPopup(popup_7b561c0073b69f92f3cc840e7ea8d9dd)
        ;

        
    
    
            circle_marker_7a0905c4215f4d1c0f5e887ccfc6140c.bindTooltip(
                `<div>
                     Очаково
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_a9504228b54713ffa65c1d824aaa4dbc = L.circleMarker(
                [55.723149, 37.396265],
                {"bubblingMouseEvents": true, "color": "#606fab", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#606fab", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_671b121e0d58d1f728cd48b0ee357bea);
        
    
        var popup_f15dd5513c69f3b997321b4274a52c6b = L.popup({"maxWidth": 360});

        
            var html_b1859cd0b7c14fc01e93b4e11f2f29e3 = $(`<div id="html_b1859cd0b7c14fc01e93b4e11f2f29e3" style="width: 100.0%; height: 100.0%;"><b>Сетунь</b><br>Оператор: Намаконов Олег<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 5140.89<br>Автоматов на локации: 5</div>`)[0];
            popup_f15dd5513c69f3b997321b4274a52c6b.setContent(html_b1859cd0b7c14fc01e93b4e11f2f29e3);
        

        circle_marker_a9504228b54713ffa65c1d824aaa4dbc.bindPopup(popup_f15dd5513c69f3b997321b4274a52c6b)
        ;

        
    
    
            circle_marker_a9504228b54713ffa65c1d824aaa4dbc.bindTooltip(
                `<div>
                     Сетунь
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_2a7d6049c6d61484171469f1b11f45f4 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_6b6310f568c0a1db30d490fde5819d43 = L.circleMarker(
                [55.91472, 37.76164],
                {"bubblingMouseEvents": true, "color": "#97e3a3", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#97e3a3", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2a7d6049c6d61484171469f1b11f45f4);
        
    
        var popup_9a82f25a77c89047f8ccd11b1a0915a2 = L.popup({"maxWidth": 360});

        
            var html_0a4e665315564d8d165fed58a8fd4a0a = $(`<div id="html_0a4e665315564d8d165fed58a8fd4a0a" style="width: 100.0%; height: 100.0%;"><b>Мытищи</b><br>Оператор: Скворцов Артем<br>Маршрут: Маршрут №1 Север<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 3376.1<br>Автоматов на локации: 3</div>`)[0];
            popup_9a82f25a77c89047f8ccd11b1a0915a2.setContent(html_0a4e665315564d8d165fed58a8fd4a0a);
        

        circle_marker_6b6310f568c0a1db30d490fde5819d43.bindPopup(popup_9a82f25a77c89047f8ccd11b1a0915a2)
        ;

        
    
    
            circle_marker_6b6310f568c0a1db30d490fde5819d43.bindTooltip(
                `<div>
                     Мытищи
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_8b0337ea53cc81518ff572f635fdb822 = L.circleMarker(
                [55.842325, 37.670162],
                {"bubblingMouseEvents": true, "color": "#97e3a3", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#97e3a3", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2a7d6049c6d61484171469f1b11f45f4);
        
    
        var popup_299cb0f673c2a06bd8d90c17e3ab5504 = L.popup({"maxWidth": 360});

        
            var html_6e1c3d7c8a297b0df72f0385283c0b59 = $(`<div id="html_6e1c3d7c8a297b0df72f0385283c0b59" style="width: 100.0%; height: 100.0%;"><b>Ростокино</b><br>Оператор: Скворцов Артем<br>Маршрут: Маршрут №1 Север<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 4252.14<br>Автоматов на локации: 1</div>`)[0];
            popup_299cb0f673c2a06bd8d90c17e3ab5504.setContent(html_6e1c3d7c8a297b0df72f0385283c0b59);
        

        circle_marker_8b0337ea53cc81518ff572f635fdb822.bindPopup(popup_299cb0f673c2a06bd8d90c17e3ab5504)
        ;

        
    
    
            circle_marker_8b0337ea53cc81518ff572f635fdb822.bindTooltip(
                `<div>
                     Ростокино
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_e795106e90e8cc0a50c945d781cef283 = L.circleMarker(
                [55.781579, 37.688012],
                {"bubblingMouseEvents": true, "color": "#97e3a3", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#97e3a3", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2a7d6049c6d61484171469f1b11f45f4);
        
    
        var popup_3b4b9aeaf8a4aea211df11a319d40c3d = L.popup({"maxWidth": 360});

        
            var html_dbeef717840a355302daae34e342ce06 = $(`<div id="html_dbeef717840a355302daae34e342ce06" style="width: 100.0%; height: 100.0%;"><b>Склад</b><br>Оператор: Скворцов Артем<br>Маршрут: Маршрут №1 Север<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 531.54<br>Автоматов на локации: 1</div>`)[0];
            popup_3b4b9aeaf8a4aea211df11a319d40c3d.setContent(html_dbeef717840a355302daae34e342ce06);
        

        circle_marker_e795106e90e8cc0a50c945d781cef283.bindPopup(popup_3b4b9aeaf8a4aea211df11a319d40c3d)
        ;

        
    
    
            circle_marker_e795106e90e8cc0a50c945d781cef283.bindTooltip(
                `<div>
                     Склад
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_0ca8403ee0a398bb75b6e4b95bcca399 = L.circleMarker(
                [55.781579, 37.688012],
                {"bubblingMouseEvents": true, "color": "#97e3a3", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#97e3a3", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2a7d6049c6d61484171469f1b11f45f4);
        
    
        var popup_7efb4aee89ae124fc46605be1ea47119 = L.popup({"maxWidth": 360});

        
            var html_648a3f056e80c6a8cba18f62e1ab4e75 = $(`<div id="html_648a3f056e80c6a8cba18f62e1ab4e75" style="width: 100.0%; height: 100.0%;"><b>Центросоюзный</b><br>Оператор: Скворцов Артем<br>Маршрут: Маршрут №1 Север<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 3719.29<br>Автоматов на локации: 3</div>`)[0];
            popup_7efb4aee89ae124fc46605be1ea47119.setContent(html_648a3f056e80c6a8cba18f62e1ab4e75);
        

        circle_marker_0ca8403ee0a398bb75b6e4b95bcca399.bindPopup(popup_7efb4aee89ae124fc46605be1ea47119)
        ;

        
    
    
            circle_marker_0ca8403ee0a398bb75b6e4b95bcca399.bindTooltip(
                `<div>
                     Центросоюзный
                 </div>`,
                {"sticky": true}
            );
        
    
            var poly_line_a877a2168ed4b4b0f3e844a002b33b87 = L.polyline(
                [[55.842325, 37.670162], [55.842325, 37.670162], [55.781579, 37.688012], [55.781579, 37.688012], [55.781579, 37.688012], [55.91472, 37.76164], [55.91472, 37.76164]],
                {"bubblingMouseEvents": true, "color": "#97e3a3", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "#97e3a3", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.7, "smoothFactor": 1.0, "stroke": true, "weight": 2}
            ).addTo(feature_group_2a7d6049c6d61484171469f1b11f45f4);
        
    
            poly_line_a877a2168ed4b4b0f3e844a002b33b87.bindTooltip(
                `<div>
                     Маршрут: Маршрут №1 Север
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_831d2dbb5e0d3d82483e9925d875a58f = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_bc8f7bc81d79b09d381a22b7160d1bc8 = L.circleMarker(
                [55.730229, 37.470871],
                {"bubblingMouseEvents": true, "color": "#ac7882", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#ac7882", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_831d2dbb5e0d3d82483e9925d875a58f);
        
    
        var popup_22e08d94d7326011af3389bcfe9cfc7b = L.popup({"maxWidth": 360});

        
            var html_2be305a435c9ba998b8d005e4417bb8f = $(`<div id="html_2be305a435c9ba998b8d005e4417bb8f" style="width: 100.0%; height: 100.0%;"><b>Славянский</b><br>Оператор: Собакин Вячеслав<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 81340.19<br>Автоматов на локации: 34</div>`)[0];
            popup_22e08d94d7326011af3389bcfe9cfc7b.setContent(html_2be305a435c9ba998b8d005e4417bb8f);
        

        circle_marker_bc8f7bc81d79b09d381a22b7160d1bc8.bindPopup(popup_22e08d94d7326011af3389bcfe9cfc7b)
        ;

        
    
    
            circle_marker_bc8f7bc81d79b09d381a22b7160d1bc8.bindTooltip(
                `<div>
                     Славянский
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_5722cef74aa7400b02b2a2ec120f5e8e = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_c94bfadc45b93a8cf31d1450e071e68a = L.circleMarker(
                [55.940026, 37.520204],
                {"bubblingMouseEvents": true, "color": "#e16c64", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#e16c64", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_5722cef74aa7400b02b2a2ec120f5e8e);
        
    
        var popup_5d996a1adf06b910768a552b86f785ca = L.popup({"maxWidth": 360});

        
            var html_45b6351c79587340afa65f62b51db332 = $(`<div id="html_45b6351c79587340afa65f62b51db332" style="width: 100.0%; height: 100.0%;"><b>Долгопрудная</b><br>Оператор: Устюгов Николай<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 18116.95<br>Автоматов на локации: 15</div>`)[0];
            popup_5d996a1adf06b910768a552b86f785ca.setContent(html_45b6351c79587340afa65f62b51db332);
        

        circle_marker_c94bfadc45b93a8cf31d1450e071e68a.bindPopup(popup_5d996a1adf06b910768a552b86f785ca)
        ;

        
    
    
            circle_marker_c94bfadc45b93a8cf31d1450e071e68a.bindTooltip(
                `<div>
                     Долгопрудная
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_e3db19e9055be16a5ea1e6b551201678 = L.circleMarker(
                [55.899754, 37.54732],
                {"bubblingMouseEvents": true, "color": "#e16c64", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#e16c64", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_5722cef74aa7400b02b2a2ec120f5e8e);
        
    
        var popup_5798eca69234856a8adb0126a3259360 = L.popup({"maxWidth": 360});

        
            var html_2f097f48a777a524047faa80c453090f = $(`<div id="html_2f097f48a777a524047faa80c453090f" style="width: 100.0%; height: 100.0%;"><b>Лианозово</b><br>Оператор: Устюгов Николай<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 35227.31<br>Автоматов на локации: 20</div>`)[0];
            popup_5798eca69234856a8adb0126a3259360.setContent(html_2f097f48a777a524047faa80c453090f);
        

        circle_marker_e3db19e9055be16a5ea1e6b551201678.bindPopup(popup_5798eca69234856a8adb0126a3259360)
        ;

        
    
    
            circle_marker_e3db19e9055be16a5ea1e6b551201678.bindTooltip(
                `<div>
                     Лианозово
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_2e6ad8f8b145c6ca19e12f6691250d2d = L.circleMarker(
                [55.924999, 37.527637],
                {"bubblingMouseEvents": true, "color": "#e16c64", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#e16c64", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_5722cef74aa7400b02b2a2ec120f5e8e);
        
    
        var popup_91c1c8ed3be0eb2927a4ae296a4711ba = L.popup({"maxWidth": 360});

        
            var html_58700d0e7bc27bac2abb54545bb894f6 = $(`<div id="html_58700d0e7bc27bac2abb54545bb894f6" style="width: 100.0%; height: 100.0%;"><b>Новодачная</b><br>Оператор: Устюгов Николай<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 4969.49<br>Автоматов на локации: 5</div>`)[0];
            popup_91c1c8ed3be0eb2927a4ae296a4711ba.setContent(html_58700d0e7bc27bac2abb54545bb894f6);
        

        circle_marker_2e6ad8f8b145c6ca19e12f6691250d2d.bindPopup(popup_91c1c8ed3be0eb2927a4ae296a4711ba)
        ;

        
    
    
            circle_marker_2e6ad8f8b145c6ca19e12f6691250d2d.bindTooltip(
                `<div>
                     Новодачная
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_04e230b51c0327336f5db48c5c779761 = L.circleMarker(
                [55.84765, 37.573679],
                {"bubblingMouseEvents": true, "color": "#e16c64", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#e16c64", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_5722cef74aa7400b02b2a2ec120f5e8e);
        
    
        var popup_15fd71e01ebe36de6613dfb4e8127f4c = L.popup({"maxWidth": 360});

        
            var html_caca54a2abb9ec0d3dbf7c94fc18c575 = $(`<div id="html_caca54a2abb9ec0d3dbf7c94fc18c575" style="width: 100.0%; height: 100.0%;"><b>Окружная</b><br>Оператор: Устюгов Николай<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 65127.34<br>Автоматов на локации: 32</div>`)[0];
            popup_15fd71e01ebe36de6613dfb4e8127f4c.setContent(html_caca54a2abb9ec0d3dbf7c94fc18c575);
        

        circle_marker_04e230b51c0327336f5db48c5c779761.bindPopup(popup_15fd71e01ebe36de6613dfb4e8127f4c)
        ;

        
    
    
            circle_marker_04e230b51c0327336f5db48c5c779761.bindTooltip(
                `<div>
                     Окружная
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_212ef9daf81c5f9190d7107b08ebf3c0 = L.circleMarker(
                [55.834268, 37.631999],
                {"bubblingMouseEvents": true, "color": "#e16c64", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#e16c64", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_5722cef74aa7400b02b2a2ec120f5e8e);
        
    
        var popup_50f26b3bea1dd47138fc24df01468ba9 = L.popup({"maxWidth": 360});

        
            var html_33d96507a52a32cf3796b1a39adc67e0 = $(`<div id="html_33d96507a52a32cf3796b1a39adc67e0" style="width: 100.0%; height: 100.0%;"><b>Опера</b><br>Оператор: Устюгов Николай<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 1235.83<br>Автоматов на локации: 1</div>`)[0];
            popup_50f26b3bea1dd47138fc24df01468ba9.setContent(html_33d96507a52a32cf3796b1a39adc67e0);
        

        circle_marker_212ef9daf81c5f9190d7107b08ebf3c0.bindPopup(popup_50f26b3bea1dd47138fc24df01468ba9)
        ;

        
    
    
            circle_marker_212ef9daf81c5f9190d7107b08ebf3c0.bindTooltip(
                `<div>
                     Опера
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_2e08935ee0bbc5c79ffd602c57ef8ad1 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var circle_marker_094d65c92cbd52e9074438dbaf38f5a1 = L.circleMarker(
                [55.7089, 37.585],
                {"bubblingMouseEvents": true, "color": "#d8a4a7", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d8a4a7", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2e08935ee0bbc5c79ffd602c57ef8ad1);
        
    
        var popup_045351e8cb9098ef2fea7c65deb5c2f5 = L.popup({"maxWidth": 360});

        
            var html_c2ebebcbae7d45a3bd9d2fffdfac607f = $(`<div id="html_c2ebebcbae7d45a3bd9d2fffdfac607f" style="width: 100.0%; height: 100.0%;"><b>Гагарина</b><br>Оператор: Хакимов Рамиль<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 26652.06<br>Автоматов на локации: 19</div>`)[0];
            popup_045351e8cb9098ef2fea7c65deb5c2f5.setContent(html_c2ebebcbae7d45a3bd9d2fffdfac607f);
        

        circle_marker_094d65c92cbd52e9074438dbaf38f5a1.bindPopup(popup_045351e8cb9098ef2fea7c65deb5c2f5)
        ;

        
    
    
            circle_marker_094d65c92cbd52e9074438dbaf38f5a1.bindTooltip(
                `<div>
                     Гагарина
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_f71b6bb95469e1d72eacd3b08cf8a350 = L.circleMarker(
                [55.741, 37.5338],
                {"bubblingMouseEvents": true, "color": "#d8a4a7", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d8a4a7", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2e08935ee0bbc5c79ffd602c57ef8ad1);
        
    
        var popup_18caf60ec7f8afddd2bdff52a4dc7804 = L.popup({"maxWidth": 360});

        
            var html_be39b4bb60a65d1ff5f8ed8e6b08d0c6 = $(`<div id="html_be39b4bb60a65d1ff5f8ed8e6b08d0c6" style="width: 100.0%; height: 100.0%;"><b>Кутузовская</b><br>Оператор: Хакимов Рамиль<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 28111.3<br>Автоматов на локации: 27</div>`)[0];
            popup_18caf60ec7f8afddd2bdff52a4dc7804.setContent(html_be39b4bb60a65d1ff5f8ed8e6b08d0c6);
        

        circle_marker_f71b6bb95469e1d72eacd3b08cf8a350.bindPopup(popup_18caf60ec7f8afddd2bdff52a4dc7804)
        ;

        
    
    
            circle_marker_f71b6bb95469e1d72eacd3b08cf8a350.bindTooltip(
                `<div>
                     Кутузовская
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_64bc38864b00afcfe57160ab422cfa20 = L.circleMarker(
                [55.750081, 37.530664],
                {"bubblingMouseEvents": true, "color": "#d8a4a7", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d8a4a7", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2e08935ee0bbc5c79ffd602c57ef8ad1);
        
    
        var popup_d7acc9b692e515c10aa81be76b68a38e = L.popup({"maxWidth": 360});

        
            var html_456eb9a70418abb6cebb8e4f436c189c = $(`<div id="html_456eb9a70418abb6cebb8e4f436c189c" style="width: 100.0%; height: 100.0%;"><b>Москва</b><br>Оператор: Хакимов Рамиль<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 18648.74<br>Автоматов на локации: 14</div>`)[0];
            popup_d7acc9b692e515c10aa81be76b68a38e.setContent(html_456eb9a70418abb6cebb8e4f436c189c);
        

        circle_marker_64bc38864b00afcfe57160ab422cfa20.bindPopup(popup_d7acc9b692e515c10aa81be76b68a38e)
        ;

        
    
    
            circle_marker_64bc38864b00afcfe57160ab422cfa20.bindTooltip(
                `<div>
                     Москва
                 </div>`,
                {"sticky": true}
            );
        
    
            var circle_marker_5f430b6657e2ab40cf980cabb3ff68cb = L.circleMarker(
                [55.732258, 37.520823],
                {"bubblingMouseEvents": true, "color": "#d8a4a7", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d8a4a7", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 3}
            ).addTo(feature_group_2e08935ee0bbc5c79ffd602c57ef8ad1);
        
    
        var popup_a9c5a92e77dd10a50846ea2ab13ff8c6 = L.popup({"maxWidth": 360});

        
            var html_e59f80b0e9a71d7939a4bdf82e129f56 = $(`<div id="html_e59f80b0e9a71d7939a4bdf82e129f56" style="width: 100.0%; height: 100.0%;"><b>Поклонная</b><br>Оператор: Хакимов Рамиль<br>Маршрут: -<br>Класс: A | Частота: 3×/нед<br>Среднесуточные продажи (сумма): 9222.64<br>Автоматов на локации: 7</div>`)[0];
            popup_a9c5a92e77dd10a50846ea2ab13ff8c6.setContent(html_e59f80b0e9a71d7939a4bdf82e129f56);
        

        circle_marker_5f430b6657e2ab40cf980cabb3ff68cb.bindPopup(popup_a9c5a92e77dd10a50846ea2ab13ff8c6)
        ;

        
    
    
            circle_marker_5f430b6657e2ab40cf980cabb3ff68cb.bindTooltip(
                `<div>
                     Поклонная
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_0913fef201cf2ba95882bae04f001240 = L.featureGroup(
                {}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
    
            var layer_control_45591ec8dfc103d01761b1849d7cd3ab = {
                base_layers : {
                    "openstreetmap" : tile_layer_6e898b4075cd2e7676d2c2eca9a39422,
                },
                overlays :  {
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0410\u043b\u0438\u0435\u0432 \u0410\u0439\u0440\u0430\u0442" : feature_group_6511f606fd47dcbae96b7341165e6072,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0410\u043b\u0438\u0435\u0432 \u0420\u0443\u0441\u043b\u0430\u043d" : feature_group_6d456887ed388438edae8b7dbef889c9,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0410\u043c\u0438\u043d\u043e\u0432 \u0420\u0443\u0441\u043b\u0430\u043d" : feature_group_557b5e70d013d8e76e6b53b90f4e580f,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0411\u043e\u0433\u0434\u0430\u043d\u043e\u0432 \u0414\u0430\u043d\u0438\u043b" : feature_group_e9f3aebe8cb353f0fd4abce6ddb3fd4d,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0411\u043e\u0433\u0434\u0430\u043d\u043e\u0432 \u0414\u0430\u043d\u0438\u043b\u0430" : feature_group_306645f5bb765d1b01fb8c2fc6aa3a4a,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0412\u043e\u043b\u043a\u043e\u0432/\u0412\u043e\u0440\u043e\u0431\u044c\u0435\u0432" : feature_group_3b414383512d912fc30d4f89dcb1d731,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0417\u0430\u0439\u0446\u0435\u0432 \u0414\u043c\u0438\u0442\u0440\u0438\u0439" : feature_group_8380633e7bd0b610772aa1fb0cb37564,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0417\u0430\u043c\u043e\u043b\u043e\u0442\u043d\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432" : feature_group_02a76ebcabf632297a9efb51ab14cb0f,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0418\u0437\u043c\u0430\u0438\u043b\u043e\u0432 \u0414\u0436\u0430\u0431\u0440\u0430\u0438\u043b" : feature_group_2188822284e0a7c10a7254cb13f7de73,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u041a\u043e\u0440\u043c\u0449\u0438\u043a\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c" : feature_group_994ae5dd0c47d35b6c9eb965fb956007,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u041a\u0443\u043c\u0430\u0447\u0435\u0432 \u0421\u0435\u0440\u0433\u0435\u0439." : feature_group_be6efe8a135fa082e24c50474ad62eb2,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u041c\u0430\u043a\u0441\u0438\u043c\u043e\u0432 \u0414\u043c\u0438\u0442\u0440\u0438\u0439" : feature_group_064f00f75d1b6c16b29cd2f3f7cfd89b,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u041d\u0430\u0437\u0430\u0440\u044f\u043d \u0412\u0430\u043d\u0438\u043a." : feature_group_5e61fd507c7cba7a50e45863c1f1dd4e,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u041d\u0430\u043c\u0430\u043a\u043e\u043d\u043e\u0432 \u041e\u043b\u0435\u0433" : feature_group_671b121e0d58d1f728cd48b0ee357bea,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0421\u043a\u0432\u043e\u0440\u0446\u043e\u0432 \u0410\u0440\u0442\u0435\u043c" : feature_group_2a7d6049c6d61484171469f1b11f45f4,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0421\u043e\u0431\u0430\u043a\u0438\u043d \u0412\u044f\u0447\u0435\u0441\u043b\u0430\u0432" : feature_group_831d2dbb5e0d3d82483e9925d875a58f,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0423\u0441\u0442\u044e\u0433\u043e\u0432 \u041d\u0438\u043a\u043e\u043b\u0430\u0439" : feature_group_5722cef74aa7400b02b2a2ec120f5e8e,
                    "\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: \u0425\u0430\u043a\u0438\u043c\u043e\u0432 \u0420\u0430\u043c\u0438\u043b\u044c" : feature_group_2e08935ee0bbc5c79ffd602c57ef8ad1,
                    "\u0411\u0435\u0437 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430" : feature_group_0913fef201cf2ba95882bae04f001240,
                },
            };
            L.control.layers(
                layer_control_45591ec8dfc103d01761b1849d7cd3ab.base_layers,
                layer_control_45591ec8dfc103d01761b1849d7cd3ab.overlays,
                {"autoZIndex": true, "collapsed": false, "position": "topright"}
            ).addTo(map_07240632b07852a755665ada692280cf);
        
</script>
</html>